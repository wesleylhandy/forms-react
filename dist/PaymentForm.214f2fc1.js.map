{"version":3,"sources":["Components/FormComponents/StyledComponents/FormLine.js","Components/FormComponents/StyledComponents/ProductSummary.js","Components/FormComponents/StyledComponents/CCButton.js","src/performance-now.coffee","../node_modules/raf/index.js","../node_modules/raf/polyfill.js","helpers/scrollToPoint.js","Components/Forms/PaymentForm.js"],"names":["FormLine","ProductSummary","RadioButton","scrollToPoint","top","docHeight","document","documentElement","scrollHeight","winHeight","window","innerHeight","speed","initialPoint","scrollY","pageYOffset","scrollDown","requestAnimationFrame","winScroll","timestamp","scroll","cancelAnimationFrame","offsetTop","el","rect","getBoundingClientRect","scrollTop","PaymentForm","d","Date","curMonth","getMonth","curYear","getFullYear","formRef","React","createRef","state","fields","ExpiresMonth","slice","ExpiresYear","ccNumber","cvnCode","errors","ccChecked","submitting","handleMessage","e","data","JSON","parse","type","tracking_vars","includes","origin","context","msgUris","setState","setConfirmed","trackingVars","getCardType","num","cardType","visible","Icon","getMainURL","retnURL","mainurlStr","querySelector","value","indexOf","renderCCInput","checked","handleRadioClick","renderCardInputs","cardInputs","map","renderProductSummary","items","ordinalDay","cart","pledgeFound","findIndex","isMonthly","monthly","Monthlypledgeday","PrimaryPledge","donations","reduce","arr","index","DetailName","DetailDescription","PledgeAmount","quantity","parts","split","length","push","Description","donation","idx","donationa","assignValues","preventDefault","redirURL","timeout","setTimeout","location","href","isValid","passes","ccCardType","ccNum","ccExpDate","transactionType","ccCvn","clearTimeout","saveLS","forms","hiddenform","submit","click","validationErrors","forEach","vErr","error","target","id","handleInputChange","name","response","handleGoBackClick","goBack","addEventListener","getGlobals","err","console","form","current","submitted","confirmed","prevProps","prevState","snapshot","removeEventListener","confirmationData","formAction","formInputs","dataInputs","years","months","datum","i","y","m","val","hasErrors","Object","values","filter","maxWidth","margin","letterSpacing","visibility","border","Component","contextType","GivingFormContext"],"mappings":"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","file":"PaymentForm.214f2fc1.js","sourceRoot":"../src","sourcesContent":["import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nconst FormLine = styled.div`\n\tbackground-color: #333;\n\twidth: 100%;\n\t-webkit-box-flex: 1;\n\t-ms-flex: 1 1 auto;\n\tflex: 1 1 auto;\n\t-ms-flex-item-align: center;\n\talign-self: center;\n\theight: 2px;\n\toverflow: visible;\n\tmargin: 20px 0;\n\tbox-sizing: border-box;\n`;\n\nexport default FormLine;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nconst ProductSummary = styled.div`\n\tpadding: 10px;\n\tfont-size: 15px;\n\tfont-weight: 300;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tdiv.flex-row {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 10px;\n\t\tflex: 1 1 100%;\n\t}\n`;\n\nexport default ProductSummary;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\n\nconst RadioButton = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tbox-sizing: border-box;\n\tpadding: 5px;\n\theight: calc(19px * 2);\n\tline-height: calc(19px * 2);\n\tinput[type=\"radio\"] {\n\t\tbox-sizing: border-box;\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\t-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\n\t}\n\tinput[type=\"radio\"] + label.Visa,\n\tinput[type=\"radio\"] + label.MasterCard,\n\tinput[type=\"radio\"] + label.AmericanExpress,\n\tinput[type=\"radio\"] + label.Discover {\n\t\tbox-sizing: border-box;\n\t\tfont-size: 40px;\n\t\tfont-weight: 600;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 5px;\n\t}\n\tinput[type=\"radio\"] + label.Visa {\n\t\tcolor: #172274;\n\t}\n\tinput[type=\"radio\"] + label.MasterCard {\n\t\tcolor: #ea001b;\n\t}\n\tinput[type=\"radio\"] + label.AmericanExpress {\n\t\tcolor: #2e78bf;\n\t}\n\tinput[type=\"radio\"] + label.Discover {\n\t\tcolor: #f58220;\n\t}\n\tinput[type=\"radio\"]:checked + label {\n\t\tbackground-color: #eee;\n\t\tbox-sizing: border-box;\n\t\tbox-shadow: 0 0 4px #000;\n\t\tborder-radius: 4px;\n\t}\n\tinput[type=\"radio\"]:focus + label,\n\tinput[type=\"radio\"]:hover + label {\n\t\tbackground-color: #f4f4f4;\n\t\tbox-sizing: border-box;\n\t\tbox-shadow: 0 0 4px #777;\n\t\tborder-radius: 4px;\n\t}\n\tinput[type=\"radio\"]:disabled + label {\n\t\tbox-shadow: 0 0 4px #000;\n\t\tborder-radius: 4px;\n\t\tborder-color: #bfbfbf;\n\t\tbackground: #bfbfbf;\n\t\tbox-sizing: border-box;\n\t}\n`;\n\nexport default RadioButton;\n","if performance? and performance.now\n  module.exports = -> performance.now()\nelse if process? and process.hrtime\n  module.exports = -> (getNanoSeconds() - nodeLoadTime) / 1e6\n  hrtime = process.hrtime\n  getNanoSeconds = ->\n    hr = hrtime()\n    hr[0] * 1e9 + hr[1]\n  moduleLoadTime = getNanoSeconds()\n  upTime = process.uptime() * 1e9\n  nodeLoadTime = moduleLoadTime - upTime\nelse if Date.now\n  module.exports = -> Date.now() - loadTime\n  loadTime = Date.now()\nelse\n  module.exports = -> new Date().getTime() - loadTime\n  loadTime = new Date().getTime()\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","require('./').polyfill()\n","import \"raf/polyfill\";\n/**\n * Function to scroll to a particular point on the DOM\n * @param {Number} top - pageYoffset of form\n */\nexport function scrollToPoint(top) {\n\tconst docHeight = document.documentElement.scrollHeight;\n\tconst winHeight = window.innerHeight;\n\tconst speed = 40;\n\tconst initialPoint = window.scrollY ? window.scrollY : window.pageYOffset;\n\tconst scrollDown = top >= initialPoint;\n\n\tif (scrollDown) {\n\t\ttop = top > docHeight - winHeight ? docHeight - winHeight : top;\n\t} else {\n\t\ttop = docHeight <= winHeight ? 0 : top;\n\t}\n\n\twindow.requestAnimationFrame(winScroll);\n\n\tfunction winScroll(timestamp) {\n\t\tlet scroll = window.scrollY ? window.scrollY : window.pageYOffset;\n\t\tif (scrollDown) {\n\t\t\tif (scroll >= top) {\n\t\t\t\treturn window.cancelAnimationFrame(timestamp);\n\t\t\t}\n\t\t\tscroll += speed;\n\t\t} else {\n\t\t\tif (scroll <= top) {\n\t\t\t\treturn window.cancelAnimationFrame(timestamp);\n\t\t\t}\n\t\t\tscroll -= speed;\n\t\t}\n\t\twindow.scroll(0, scroll);\n\t\twindow.requestAnimationFrame(winScroll);\n\t}\n}\n\n/**\n *\n * @param {Node} el - DOM Element\n * @returns {Number} - integer representing offsetTop of the element relative to the viewport\n */\nexport function offsetTop(el) {\n\tconst rect = el.getBoundingClientRect(),\n\t\tscrollTop = window.scrollY ? window.scrollY : window.pageYOffset;\n\treturn rect.top + scrollTop;\n}\n","import React, { Component, Fragment } from \"react\";\n\nimport { GivingFormContext } from \"../Contexts/GivingFormProvider\";\n\nimport FieldSet from \"../FormComponents/StyledComponents/FieldSet\";\nimport FormRow from \"../FormComponents/StyledComponents/FormRow\";\nimport FormPanel from \"../FormComponents/StyledComponents/FormPanel\";\nimport FormLine from \"../FormComponents/StyledComponents/FormLine\";\nimport FormHeader from \"../FormComponents/StyledComponents/FormHeader\";\nimport ProductSummary from \"../FormComponents/StyledComponents/ProductSummary\";\nimport CCButton from \"../FormComponents/StyledComponents/CCButton\";\nimport HiddenForm from \"../FormComponents/StyledComponents/HiddenForm\";\nimport InputGroup from \"../FormComponents/InputGroup\";\nimport SelectGroup from \"../FormComponents/SelectGroup\";\nimport SubmitButton from \"../FormComponents/SubmitButton\";\nimport FormWrapper from \"../StyledComponents/FormWrapper\";\nimport {\n\tFaCcAmex,\n\tFaCcDiscover,\n\tFaCcMastercard,\n\tFaCcVisa,\n} from \"react-icons/fa\";\n\nimport { scrollToPoint, offsetTop } from \"../../helpers/scrollToPoint\";\nimport { validateInput, checkValues } from \"../../helpers/cc-validation\";\n\nconst d = new Date();\nconst curMonth = \"0\" + (d.getMonth() + 1);\nconst curYear = d.getFullYear();\n\nclass PaymentForm extends Component {\n\tformRef = React.createRef();\n\tstate = {\n\t\tfields: {\n\t\t\tExpiresMonth: curMonth.slice(-2),\n\t\t\tExpiresYear: curYear,\n\t\t\tccNumber: \"\",\n\t\t\tcvnCode: \"\",\n\t\t},\n\t\terrors: {\n\t\t\tExpiresMonth: null,\n\t\t\tExpiresYear: null,\n\t\t\tccNumber: null,\n\t\t\tcvnCode: null,\n\t\t},\n\t\tccChecked: null,\n\t\tsubmitting: false,\n\t};\n\tcomponentDidMount() {\n\t\tconst lifetime = 60 * 1000; // 60 seconds * 1000 milliseconds\n\t\tthis.context.saveLS(lifetime, \"store\");\n\n\t\twindow.addEventListener(\"message\", this.handleMessage, false);\n\t\ttry {\n\t\t\tthis.context.getGlobals();\n\t\t} catch (err) {\n\t\t\tconsole.error({ err });\n\t\t}\n\t}\n\tgetSnapshotBeforeUpdate() {\n\t\tconst form = this.formRef.current;\n\t\tconst { submitted, confirmed } = this.context;\n\t\tif (!form && submitted && !confirmed) {\n\t\t\treturn true;\n\t\t}\n\t\treturn null;\n\t}\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\n\t\tif (!!snapshot) {\n\t\t\tconst target = this.formRef.current;\n\t\t\tconst top = offsetTop(target);\n\t\t\tscrollToPoint(top);\n\t\t}\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"message\", this.handleMessage);\n\t}\n\thandleMessage = e => {\n\t\t// console.log({e})\n\t\tconst { type, tracking_vars } =\n\t\t\te.data && typeof e.data == \"string\" ? JSON.parse(e.data) : {};\n\t\tconst types = [\"form error\", \"render receipt\"];\n\t\tif (!types.includes(type)) {\n\t\t\treturn;\n\t\t}\n\t\tconst { origin } = e;\n\t\tconst isOrigin = this.context.msgUris.includes(origin);\n\t\tif (!isOrigin) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (type) {\n\t\t\tcase \"render receipt\":\n\t\t\t\tthis.setState({ submitting: false });\n\t\t\t\tthis.context.setConfirmed({\n\t\t\t\t\ttype: \"CONFIRMED\",\n\t\t\t\t\ttrackingVars: tracking_vars,\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase \"form error\":\n\t\t\t\tconst errors = [...this.state.errors];\n\t\t\t\terrors[\"ccNumber\"] =\n\t\t\t\t\t\"Please verify your Payment Information and Try Again\";\n\t\t\t\tthis.setState({ submitting: false, errors });\n\t\t\t\tbreak;\n\t\t}\n\t\treturn;\n\t};\n\t/**\n\t *\n\t * @param {string} num - 3 digits representing cc ['001', '002', '003', or '004']\n\t * @returns {Object} cardType, visible, src\n\t */\n\tgetCardType = num => {\n\t\tlet cardType, visible, Icon;\n\t\tswitch (num) {\n\t\t\tcase \"001\":\n\t\t\t\tcardType = \"Visa\";\n\t\t\t\tvisible = cardType;\n\t\t\t\tIcon = () => <FaCcVisa />;\n\t\t\t\tbreak;\n\t\t\tcase \"002\":\n\t\t\t\tcardType = \"MasterCard\";\n\t\t\t\tvisible = cardType;\n\t\t\t\tIcon = () => <FaCcMastercard />;\n\t\t\t\tbreak;\n\t\t\tcase \"003\":\n\t\t\t\tcardType = \"AmericanExpress\";\n\t\t\t\tvisible = \"American Express\";\n\t\t\t\tIcon = () => <FaCcAmex />;\n\t\t\t\tbreak;\n\t\t\tcase \"004\":\n\t\t\t\tcardType = \"Discover\";\n\t\t\t\tvisible = cardType;\n\t\t\t\tIcon = () => <FaCcDiscover />;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn { cardType, visible, Icon };\n\t};\n\tgetMainURL = () => {\n\t\tvar retnURL = \"\";\n\t\tvar mainurlStr = document.querySelector(\"input[name='mainURL']\").value;\n\t\tif (mainurlStr != \"\" && mainurlStr != \"undefined\") {\n\t\t\tif (mainurlStr.indexOf(\"?\") > 0) {\n\t\t\t\tretnURL = mainurlStr + \"&error=gen\";\n\t\t\t} else {\n\t\t\t\tretnURL = mainurlStr + \"?error=gen\";\n\t\t\t}\n\t\t}\n\t\treturn retnURL;\n\t};\n\n\trenderCCInput = (num, checked) => {\n\t\tnum = \"00\" + num;\n\t\tconst { cardType, visible, Icon } = this.getCardType(num);\n\t\treturn (\n\t\t\t<CCButton\n\t\t\t\tkey={`cc-btn-${num}`}\n\t\t\t\tid={`${cardType}-group`}\n\t\t\t\tclassName=\"radio-group\"\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tname=\"creditcardoption\"\n\t\t\t\t\tid={num}\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tchecked={num == checked ? true : false}\n\t\t\t\t\tonChange={this.handleRadioClick}\n\t\t\t\t\thidden={true}\n\t\t\t\t/>\n\t\t\t\t<label htmlFor={num} aria-label={visible} className={cardType}>\n\t\t\t\t\t<Icon />\n\t\t\t\t</label>\n\t\t\t</CCButton>\n\t\t);\n\t};\n\trenderCardInputs = checked => {\n\t\tconst cardInputs = [1, 2, 3, 4].map(num =>\n\t\t\tthis.renderCCInput(num, checked)\n\t\t);\n\t\treturn <FormRow className=\"cc-type-container\">{cardInputs}</FormRow>;\n\t};\n\n\trenderProductSummary = () => {\n\t\tconst items = [...this.context.cart.items];\n\t\tconst pledgeFound = items.findIndex(el => el && el.type == \"donation\");\n\t\tconst isMonthly = pledgeFound > -1 ? items[pledgeFound].monthly : false;\n\t\tconst Monthlypledgeday = isMonthly\n\t\t\t? this.context.fields.Monthlypledgeday\n\t\t\t: 2;\n\t\tlet ordinalDay;\n\t\tswitch (Monthlypledgeday) {\n\t\t\tcase 2:\n\t\t\t\tordinalDay = \"2nd\";\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tordinalDay = \"3rd\";\n\t\t\t\tbreak;\n\t\t\tcase 21:\n\t\t\t\tordinalDay = \"21st\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tordinalDay = Monthlypledgeday + \"th\";\n\t\t\t\tbreak;\n\t\t}\n\t\tconst PrimaryPledge = {};\n\t\tconst donations = items.reduce(\n\t\t\t(arr, { DetailName, DetailDescription, PledgeAmount }, index) => {\n\t\t\t\tif (index === pledgeFound) {\n\t\t\t\t\tPrimaryPledge.Description = DetailDescription;\n\t\t\t\t\tPrimaryPledge.PledgeAmount = PledgeAmount;\n\t\t\t\t} else {\n\t\t\t\t\tlet quantity = 1;\n\t\t\t\t\tconst parts = DetailName.split(\"|\");\n\t\t\t\t\tif (parts.length > 1) {\n\t\t\t\t\t\tquantity = parts[1];\n\t\t\t\t\t}\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tquantity,\n\t\t\t\t\t\tDetailDescription,\n\t\t\t\t\t\tPledgeAmount,\n\t\t\t\t\t});\n\t\t\t\t\treturn arr;\n\t\t\t\t}\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\treturn (\n\t\t\t<ProductSummary>\n\t\t\t\t{PrimaryPledge && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<div className=\"flex-row\">\n\t\t\t\t\t\t\t<div>{PrimaryPledge.Description}</div>\n\t\t\t\t\t\t\t<div>${PrimaryPledge.PledgeAmount}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{isMonthly && (\n\t\t\t\t\t\t\t<div className=\"flex-row\">\n\t\t\t\t\t\t\t\tYour card will be charged automatically every month on the{\" \"}\n\t\t\t\t\t\t\t\t{ordinalDay} of each month.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t{donations &&\n\t\t\t\t\tdonations.map((donation, idx) => {\n\t\t\t\t\t\t<div className=\"flex-row\" key={`summary-item-${idx}`}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{donation.Description} ({donation.quantity})\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>${donationa.PledgeAmount}</div>\n\t\t\t\t\t\t</div>;\n\t\t\t\t\t})}\n\t\t\t</ProductSummary>\n\t\t);\n\t};\n\n\tassignValues = e => {\n\t\te.preventDefault();\n\t\tif (this.state.submitting) return; // ie. disallow multiple submissions\n\t\tthis.setState({ submitting: true }, () => {\n\t\t\tlet redirURL = this.getMainURL();\n\n\t\t\tif (redirURL == \"\" || redirURL == \"undefined\") {\n\t\t\t\tredirURL = \"https://www.cbn.com\";\n\t\t\t}\n\t\t\t//set timeout if url does not respond in timely manner\n\t\t\tconst timeout = setTimeout(function() {\n\t\t\t\twindow.location.href = redirURL;\n\t\t\t\treturn false;\n\t\t\t}, 15000);\n\n\t\t\tconst {\n\t\t\t\tccNumber,\n\t\t\t\tExpiresYear,\n\t\t\t\tExpiresMonth,\n\t\t\t\tcvnCode,\n\t\t\t} = this.state.fields;\n\t\t\tconst ccChecked = this.state.ccChecked;\n\t\t\tconst isValid = checkValues(\n\t\t\t\tccChecked,\n\t\t\t\tccNumber,\n\t\t\t\tExpiresMonth,\n\t\t\t\tExpiresYear,\n\t\t\t\tcvnCode\n\t\t\t);\n\t\t\tif (isValid.passes) {\n\t\t\t\tconst {\n\t\t\t\t\tccCardType,\n\t\t\t\t\tccNum,\n\t\t\t\t\tccExpDate,\n\t\t\t\t\ttransactionType,\n\t\t\t\t\tccCvn,\n\t\t\t\t} = isValid;\n\t\t\t\tdocument.querySelector('input[name=\"card_type\"]').value = ccCardType;\n\t\t\t\tdocument.querySelector('input[name=\"card_number\"]').value = ccNum;\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\t'input[name=\"card_expiry_date\"]'\n\t\t\t\t).value = ccExpDate;\n\t\t\t\tdocument.querySelector('input[name=\"card_cvn\"]').value = ccCvn;\n\t\t\t\tif (isValid.transactionType) {\n\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t'input[name=\"transaction_type\"]'\n\t\t\t\t\t).value = transactionType;\n\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t'input[name=\"signature\"]'\n\t\t\t\t\t).value = document.querySelector('input[name=\"signatureDis\"]').value;\n\t\t\t\t}\n\t\t\t\t//cancel redirect\n\t\t\t\tclearTimeout(timeout);\n\n\t\t\t\t//store submission data in cookie\n\t\t\t\tconst lifetime = 2 * 60 * 1000; // n minutes * 60 seconds * 1000 milliseconds\n\t\t\t\tthis.context.saveLS(lifetime, \"store\");\n\n\t\t\t\t// bubble formaction\n\t\t\t\tdocument.forms.hiddenform.submit.type = \"submit\";\n\t\t\t\treturn document.forms.hiddenform.submit.click();\n\t\t\t} else {\n\t\t\t\t// handle validation errors\n\t\t\t\tconst validationErrors = isValid.errors;\n\t\t\t\tconst errors = this.state.errors;\n\t\t\t\tvalidationErrors.forEach(vErr => (errors[vErr.type] = vErr.error));\n\t\t\t\tthis.setState({ errors, submitting: false });\n\t\t\t\t// cancel redirect\n\t\t\t\treturn clearTimeout(timeout);\n\t\t\t}\n\t\t});\n\t};\n\n\thandleRadioClick = e => {\n\t\tthis.setState({ ccChecked: e.target.id });\n\t};\n\n\thandleInputChange = e => {\n\t\tconst target = e.target;\n\t\tlet value = target.type === \"checkbox\" ? target.checked : target.value;\n\t\tconst name = target.name;\n\t\tconst errors = { ...this.state.errors };\n\n\t\tconst response = validateInput(name, value);\n\t\terrors[name] = response.error;\n\n\t\tconst fields = { ...this.state.fields };\n\t\tfields[name] = value;\n\n\t\tlet { ccChecked } = this.state;\n\t\tif (response.ccChecked) {\n\t\t\tccChecked = response.ccChecked;\n\t\t}\n\t\tthis.setState({ fields, errors, ccChecked });\n\t};\n\n\thandleGoBackClick = e => {\n\t\te.preventDefault();\n\t\tthis.context.goBack({ type: \"GO_BACK\" });\n\t};\n\n\trender() {\n\t\tconst { submitted, confirmationData, formAction, confirmed } = this.context;\n\t\tconst { fields, errors, submitting, ccChecked } = this.state;\n\t\tconst formInputs = [],\n\t\t\tdataInputs = [],\n\t\t\tyears = [],\n\t\t\tmonths = [];\n\t\tconfirmationData.forEach((datum, i) => {\n\t\t\tif (datum.name.includes(\"ucConfirmBody\")) {\n\t\t\t\tname = datum.name.split(\"$\")[1];\n\t\t\t\tdataInputs.push(\n\t\t\t\t\t<input\n\t\t\t\t\t\tkey={`datum${i}`}\n\t\t\t\t\t\tid={name}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tdefaultValue={datum.value ? datum.value : \"\"}\n\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tformInputs.push(\n\t\t\t\t\t<input\n\t\t\t\t\t\tkey={`datum${i}`}\n\t\t\t\t\t\tid={datum.name}\n\t\t\t\t\t\tname={datum.name}\n\t\t\t\t\t\tdefaultValue={datum.value ? datum.value : \"\"}\n\t\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\tyears.push(\n\t\t\t<option key=\"exp-year-base-0\" value=\"\" disabled=\"disabled\">\n\t\t\t\tYear* &#9663;\n\t\t\t</option>\n\t\t);\n\t\tfor (let y = curYear; y < curYear + 25; y++) {\n\t\t\tyears.push(\n\t\t\t\t<option key={\"year-option-\" + y} value={y}>\n\t\t\t\t\t{y}\n\t\t\t\t</option>\n\t\t\t);\n\t\t}\n\t\tmonths.push(\n\t\t\t<option key=\"exp-month-base-0\" value=\"\" disabled=\"disabled\">\n\t\t\t\tMonth* &#9663;\n\t\t\t</option>\n\t\t);\n\t\tfor (let m = 1; m < 13; m++) {\n\t\t\tconst val = (\"0\" + m).slice(-2);\n\t\t\tmonths.push(\n\t\t\t\t<option key={\"month-option-\" + val} value={val}>\n\t\t\t\t\t{val}\n\t\t\t\t</option>\n\t\t\t);\n\t\t}\n\t\tconst hasErrors =\n\t\t\tObject.values(errors).filter(val => val && val.length > 0).length > 0;\n\t\treturn submitted && !confirmed ? (\n\t\t\t<FormWrapper style={{ maxWidth: \"818px\", margin: \"0 auto\" }}>\n\t\t\t\t<FormPanel ref={this.formRef}>\n\t\t\t\t\t<form id=\"react-cc-form\" onSubmit={this.assignValues}>\n\t\t\t\t\t\t<div className=\"mboxDefault\">\n\t\t\t\t\t\t\t<FormHeader className=\"form-header__payment\">\n\t\t\t\t\t\t\t\tAlmost Done!\n\t\t\t\t\t\t\t</FormHeader>\n\t\t\t\t\t\t\t<FormLine />\n\t\t\t\t\t\t\t<FormHeader className=\"form-header--small\">\n\t\t\t\t\t\t\t\tEnter Payment Information and click <br />\"\n\t\t\t\t\t\t\t\t<strong>Finish Donation</strong>\" below.\n\t\t\t\t\t\t\t</FormHeader>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FormRow>\n\t\t\t\t\t\t\t<FormLine />\n\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t<FieldSet>\n\t\t\t\t\t\t\t<legend>Credit Card Information</legend>\n\t\t\t\t\t\t\t<div className=\"form-subheader\">Card Type*</div>\n\t\t\t\t\t\t\t<FieldSet>\n\t\t\t\t\t\t\t\t<legend>Select Credit Card Type</legend>\n\t\t\t\t\t\t\t\t{this.renderCardInputs(ccChecked)}\n\t\t\t\t\t\t\t</FieldSet>\n\t\t\t\t\t\t\t<FormRow>\n\t\t\t\t\t\t\t\t<FormLine />\n\t\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t\t<div className=\"form-subheader\">Card Info*</div>\n\n\t\t\t\t\t\t\t<FormRow className=\"cc-num-row\">\n\t\t\t\t\t\t\t\t<InputGroup\n\t\t\t\t\t\t\t\t\tspecialStyle=\"form-group--ccNumber\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"ccNumber\"\n\t\t\t\t\t\t\t\t\tlabel=\"Number\"\n\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\tmaxLength={16}\n\t\t\t\t\t\t\t\t\tplaceholder=\"#### #### #### #### ####\"\n\t\t\t\t\t\t\t\t\tvalue={fields.ccNumber}\n\t\t\t\t\t\t\t\t\thandleInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\terror={errors.ccNumber}\n\t\t\t\t\t\t\t\t\tvalidation=\"\\d*\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t\t<FormRow className=\"cc-exp-row\">\n\t\t\t\t\t\t\t\t<SelectGroup\n\t\t\t\t\t\t\t\t\tid=\"ExpiresMonth\"\n\t\t\t\t\t\t\t\t\tspecialStyle=\"form-group--expMonth\"\n\t\t\t\t\t\t\t\t\tlabel=\"Month\"\n\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\tvalue={fields.ExpiresMonth}\n\t\t\t\t\t\t\t\t\terror={errors.ExpiresMonth}\n\t\t\t\t\t\t\t\t\toptions={months}\n\t\t\t\t\t\t\t\t\thandleInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<SelectGroup\n\t\t\t\t\t\t\t\t\tid=\"ExpiresYear\"\n\t\t\t\t\t\t\t\t\tspecialStyle=\"form-group--expYear\"\n\t\t\t\t\t\t\t\t\tlabel=\"Year\"\n\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\tvalue={fields.ExpiresYear}\n\t\t\t\t\t\t\t\t\terror={errors.ExpiresYear}\n\t\t\t\t\t\t\t\t\toptions={years}\n\t\t\t\t\t\t\t\t\thandleInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t\t<FormRow className=\"cc-cvn-row\">\n\t\t\t\t\t\t\t\t<InputGroup\n\t\t\t\t\t\t\t\t\tspecialStyle=\"form-group--cvnCode\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"cvnCode\"\n\t\t\t\t\t\t\t\t\tlabel=\"CVV Code\"\n\t\t\t\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\t\t\t\tmaxLength={4}\n\t\t\t\t\t\t\t\t\tplaceholder=\"cvv\"\n\t\t\t\t\t\t\t\t\tvalue={fields.cvnCode}\n\t\t\t\t\t\t\t\t\thandleInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\terror={errors.cvnCode}\n\t\t\t\t\t\t\t\t\tvalidation=\"\\d*\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"cvn-code-info\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.cbn.com/CVVNumber/CVV.html\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tWhat is my <span style={{ letterSpacing: \"1px\" }}>CVV</span>{\" \"}\n\t\t\t\t\t\t\t\t\t\tCode?\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t</FieldSet>\n\t\t\t\t\t\t<FormRow>\n\t\t\t\t\t\t\t<FormLine />\n\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t{this.renderProductSummary()}\n\t\t\t\t\t\t<FormRow>\n\t\t\t\t\t\t\t<FormLine />\n\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t\t<FieldSet>\n\t\t\t\t\t\t\t<legend>Form Submit Block</legend>\n\t\t\t\t\t\t\t<SubmitButton\n\t\t\t\t\t\t\t\thasErrors={hasErrors}\n\t\t\t\t\t\t\t\thandleSubmit={this.assignValues}\n\t\t\t\t\t\t\t\tsubmitting={submitting}\n\t\t\t\t\t\t\t\tvalue=\"Finish Donation\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldSet>\n\t\t\t\t\t\t<FormRow className=\"go-back-row\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tClick the &ldquo;Finish Donation&rdquo; button above or\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<a onClick={this.handleGoBackClick}>go back</a> to the previous\n\t\t\t\t\t\t\t\tpage to make changes.\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</FormRow>\n\t\t\t\t\t</form>\n\t\t\t\t\t<HiddenForm\n\t\t\t\t\t\tid=\"hiddenform\"\n\t\t\t\t\t\tclassName=\"hidden-form\"\n\t\t\t\t\t\taction={formAction}\n\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\ttarget=\"paymentprocess\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{formInputs}\n\t\t\t\t\t</HiddenForm>\n\t\t\t\t\t{dataInputs}\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t\tname=\"paymentprocess\"\n\t\t\t\t\t\twidth=\"0\"\n\t\t\t\t\t\theight=\"0\"\n\t\t\t\t\t\tstyle={{ visibility: \"none\", border: \"none\" }}\n\t\t\t\t\t></iframe>\n\t\t\t\t</FormPanel>\n\t\t\t</FormWrapper>\n\t\t) : null;\n\t}\n}\n\nPaymentForm.contextType = GivingFormContext;\n\nexport default PaymentForm;\n"]}