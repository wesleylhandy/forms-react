{"version":3,"sources":["../../src/getClassName.js","src/Components/GivingArray.js","src/Components/ProductDisplay.js","src/Components/FundDisplay.js","src/Components/RadioButton.js","src/Components/MonthlyRadioGroup.js","src/Components/SelectGroup.js","src/Components/InputGroup.js","src/Components/NameBlock.js","src/Components/helpers/renderStateOptions.js","src/Components/ShippingAddressBlock.js","src/Components/AddressBlock.js","src/Components/Checkbox.js","src/Components/FormOptionsBlock.js","src/Components/SubmitButton.js","src/Components/helpers/error-types.js","src/Components/NameAddressForm.js"],"names":["getIndex","arr","amount","findIndex","amt","GivingArray","props","state","hydrated","initialUpdate","selectedIndex","otherAmount","otherAmountError","renderArray","bind","addToCart","handleOtherAmt","defaultAmount","defaultOption","arrayOptions","monthlyAmounts","singleAmounts","monthlyOption","index","nextProps","setState","givingInfo","monthlyChecked","length","hydrateGiving","removeFromCart","isMonthly","amounts","map","i","monthlyPledgeData","singlePledgeData","type","PledgeAmount","DetailCprojMail","DetailCprojCredit","DetailDescription","DetailName","monthly","e","value","target","trim","isValid","test","givingFormat","singleOption","Component","ProductDisplay","fields","additionalGift","hydratedAdditionalGift","errors","additionalGiftError","totalGift","productInfo","handleInputChange","createMarkup","renderAdditionalGift","hydrateProducts","calculateTotalGift","JSON","stringify","products","productOptions","reduce","a","b","parseInt","idx","quantity","forEach","product","name","split","updateProducts","text","__html","display","additionalGiftMessage","numProducts","renderOptions","ind","options","push","productTitle","productMessage","FundDisplay","numFunds","fundOptions","funds","values","expanded","handleDropDownClick","expandSelection","dataset","id","updateDonation","fund","imgSrc","fundTitle","fundDescription","renderFundCards","renderExpandedCards","RadioButton","checked","handleRadioClick","label","MonthlyRadioGroup","Monthlypledgeday","single","renderCCInfo","SelectGroup","specialStyle","required","error","InputGroup","international","maxLength","placeholder","disabled","validation","fontSize","TitleDropdown","vals","el","NameInput","SpouseInput","NameBlock","getMiddleName","getSuffix","getSpouseInfo","Title","Spousename","Suffix","getStateOptions","renderOptGroup","replace","opt","optGroups","states","usStates","military","usMilitary","territories","usTerritories","otherOpt","other","provinces","canadianProvinces","ShippingAddressBlock","ShipToYes","ShipToName","ShipToAddress1","ShipToAddress2","ShipToCity","ShipToState","ShipToZip","AddressBlock","getPhone","Address1","Address2","City","State","Country","Zip","countries","country","Emailaddress","phone","Checkbox","FormOptionsBlock","SubmitButton","hasErrors","handleSubmit","submitting","formErrors","breakingErrors","getErrorType","message","indexOf","breaking","includes","email_regex","phone_regex","zip_regex","firstname_regex","lastname_regex","getDay","date","Date","getDate","NameAddressForm","hydratedData","Firstname","Middlename","Lastname","Phoneareacode","Phoneexchange","Phonenumber","savePersonalInfo","ShipTo","field","submitted","fundSelected","fundInfo","productsOrdered","cart","items","validateInput","callZipCityStateService","callAddressVerification","MultipleDonations","match","formData","days","lifetime","info","localStorage","setItem","removeItem","found","isZip","preventDefault","pledgeFound","addGiftFound","isValidForm","zipError","addressError","console","log","err","shipZipError","shipAddressError","fieldNames","Object","keys","ShipToCountry","mode","APIAccessID","MotivationText","subscriptions","AddContactYN","ActivityName","ContactSource","SectionName","proxy","ClientBrowser","window","navigator","userAgent","UrlReferer","location","origin","pathname","TransactionType","DonationType","IsRecurringCreditCardDonation","Monthlypledgeamount","Singledonationamount","multipleDonations","data","sub","key","method","headers","body","msg","submitForm","alert","prod","totalProducts","newItems","filter","item","splice","base","url","result","oldCity","toUpperCase","parse","city","zip","returnCode","returnMessage","newCity","addr1","encodeURI","showGivingArray","shipping","val"],"mappings":"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","file":"NameAddressForm.c2499c33.map","sourceRoot":"..","sourcesContent":["// @flow\n\nimport type {\n  StyleModuleMapType,\n  StyleModuleImportMapType,\n  HandleMissingStyleNameOptionType\n} from './types';\n\nconst DEFAULT_HANDLE_MISSING_STYLENAME_OPTION = 'throw';\n\nconst isNamespacedStyleName = (styleName: string): boolean => {\n  return styleName.indexOf('.') !== -1;\n};\n\nconst getClassNameForNamespacedStyleName = (\n  styleName: string,\n  styleModuleImportMap: StyleModuleImportMapType,\n  handleMissingStyleNameOption?: HandleMissingStyleNameOptionType\n): ?string => {\n  // Note:\n  // Do not use the desctructing syntax with Babel.\n  // Desctructing adds _slicedToArray helper.\n  const styleNameParts = styleName.split('.');\n  const importName = styleNameParts[0];\n  const moduleName = styleNameParts[1];\n  const handleMissingStyleName = handleMissingStyleNameOption ||\n    DEFAULT_HANDLE_MISSING_STYLENAME_OPTION;\n\n  if (!moduleName) {\n    if (handleMissingStyleName === 'throw') {\n      throw new Error('Invalid style name: ' + styleName);\n    } else if (handleMissingStyleName === 'warn') {\n      // eslint-disable-next-line no-console\n      console.warn('Invalid style name: ' + styleName);\n    } else {\n      return null;\n    }\n  }\n\n  if (!styleModuleImportMap[importName]) {\n    if (handleMissingStyleName === 'throw') {\n      throw new Error('CSS module import does not exist: ' + importName);\n    } else if (handleMissingStyleName === 'warn') {\n      // eslint-disable-next-line no-console\n      console.warn('CSS module import does not exist: ' + importName);\n    } else {\n      return null;\n    }\n  }\n\n  if (!styleModuleImportMap[importName][moduleName]) {\n    if (handleMissingStyleName === 'throw') {\n      throw new Error('CSS module does not exist: ' + moduleName);\n    } else if (handleMissingStyleName === 'warn') {\n      // eslint-disable-next-line no-console\n      console.warn('CSS module does not exist: ' + moduleName);\n    } else {\n      return null;\n    }\n  }\n\n  return styleModuleImportMap[importName][moduleName];\n};\n\ntype OptionsType = {|\n  handleMissingStyleName: HandleMissingStyleNameOptionType\n|};\n\nexport default (styleNameValue: string, styleModuleImportMap: StyleModuleImportMapType, options?: OptionsType): string => {\n  const styleModuleImportMapKeys = Object.keys(styleModuleImportMap);\n\n  const handleMissingStyleName = options && options.handleMissingStyleName ||\n    DEFAULT_HANDLE_MISSING_STYLENAME_OPTION;\n\n  return styleNameValue\n    .split(' ')\n    .filter((styleName) => {\n      return styleName;\n    })\n    .map((styleName) => {\n      if (isNamespacedStyleName(styleName)) {\n        return getClassNameForNamespacedStyleName(styleName, styleModuleImportMap, handleMissingStyleName);\n      }\n\n      if (styleModuleImportMapKeys.length === 0) {\n        throw new Error('Cannot use styleName attribute for style name \\'' + styleName +\n          '\\' without importing at least one stylesheet.');\n      }\n\n      if (styleModuleImportMapKeys.length > 1) {\n        throw new Error('Cannot use anonymous style name \\'' + styleName +\n          '\\' with more than one stylesheet import.');\n      }\n\n      const styleModuleMap: StyleModuleMapType = styleModuleImportMap[styleModuleImportMapKeys[0]];\n\n      if (!styleModuleMap[styleName]) {\n        if (handleMissingStyleName === 'throw') {\n          throw new Error('Could not resolve the styleName \\'' + styleName + '\\'.');\n        }\n        if (handleMissingStyleName === 'warn') {\n          // eslint-disable-next-line no-console\n          console.warn('Could not resolve the styleName \\'' + styleName + '\\'.');\n        }\n      }\n\n      return styleModuleMap[styleName];\n    })\n    .filter((className) => {\n      // Remove any styles which could not be found (if handleMissingStyleName === 'ignore')\n      return className;\n    })\n    .join(' ');\n};\n","import React, { Component } from 'react'\n\nimport flex from './styles/flex.module.css'\nimport styles from './styles/giving.module.css'\n\nfunction getIndex(arr,amount) {\n    return arr.findIndex(amt=> +amt == +amount)\n}\n\nclass GivingArray extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            hydrated: false,\n            initialUpdate: false,\n            selectedIndex: null,\n            otherAmount: 0,\n            otherAmountError: ''\n        }\n        this.renderArray = this.renderArray.bind(this)\n        this.addToCart = this.addToCart.bind(this)\n        this.handleOtherAmt = this.handleOtherAmt.bind(this)\n    }\n\n    componentDidMount() {\n        const { defaultAmount, defaultOption, arrayOptions: { monthlyAmounts, singleAmounts, monthlyOption } } = this.props;\n        let arr = []\n        if (defaultOption !== \"\") {\n            arr = defaultOption == 'monthly' ? monthlyAmounts : singleAmounts;\n        } else {\n            arr = monthlyOption ? monthlyAmounts : singleAmounts\n        }\n        const amt = defaultAmount\n        const index = getIndex(arr, amt);\n        const selectedIndex = index >=0 ? index : 99;\n        if (selectedIndex >= 0) {\n            this.addToCart(amt, index);\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const {initialUpdate} = nextProps;\n        if (initialUpdate && !this.state.initialUpdate) {\n            return this.setState({initialUpdate})\n        }\n        const {givingInfo, monthlyChecked} = nextProps;\n        if (givingInfo.length && !nextProps.hydrated && !this.state.hydrated) {\n            return this.hydrateGiving(givingInfo);\n        } \n        if (monthlyChecked !== this.props.monthlyChecked) {\n             return this.setState({monthlyChecked, selectedIndex: null}, ()=>this.props.removeFromCart('donation'))\n        }\n    }\n\n    hydrateGiving(givingInfo) {\n        const {arrayOptions: { monthlyAmounts, singleAmounts } } = this.props;\n        let { otherAmount, selectedIndex } = this.state\n        const {isMonthly, amount} = givingInfo[0]\n        const arr = isMonthly ? monthlyAmounts : singleAmounts\n        const index = getIndex(arr, amount);\n        selectedIndex = index > -1 ? index : 99;\n        otherAmount = selectedIndex == 99 ? amount : 0;\n        this.setState({selectedIndex, otherAmount, hydrated: true}, ()=> {\n            if (selectedIndex >= 0) {\n                this.addToCart(amount, index);\n            }\n        })\n    }\n\n    renderArray(amounts, selectedIndex) {\n        return amounts.map((amount, i)=>(\n            <div key={`array${i}`} styleName={`styles.askbutton flex.flex flex.flex-center flex.flex-axes-center ${selectedIndex == i ? \"styles.selected\" : \"\"}`} onClick={()=>this.addToCart(amount, i)}>\n                <div styleName=\"styles.askbutton__amt flex.flex flex.flex-center flex.flex-axes-center flex.flex-no-grow\">{amount}</div>\n            </div>\n        ))\n    }\n    \n    /**\n     * Changes state on the arry to visibly display selected amount and adds donation amount to the cart\n     * @param {Number} amt - amount to be added to cart\n     * @param {Number} index - index of selected item or custom amount\n     */\n    addToCart(amt, index) {\n        this.setState({otherAmount: index == 99 ? amt : 0, selectedIndex: index}, () => {\n            if (amt) {\n                const { monthlyChecked, arrayOptions: {monthlyPledgeData, singlePledgeData} } = this.props;\n                this.props.addToCart({\n                    type: 'donation',\n                    PledgeAmount: amt,\n                    DetailCprojMail: monthlyChecked ? monthlyPledgeData.DetailCprojMail : singlePledgeData.DetailCprojMail,\n                    DetailCprojCredit: monthlyChecked ? monthlyPledgeData.DetailCprojCredit : singlePledgeData.DetailCprojCredit,\n                    DetailDescription: monthlyChecked ? \"Monthly Pledge\" : \"Single Pledge\",\n                    DetailName: monthlyChecked ? \"MP\" : \"SPGF\",\n                    monthly: monthlyChecked\n                })\n            } else {\n                this.props.removeFromCart('donation')\n            }\n        });\n    }\n\n    handleOtherAmt(e) {\n        const value = e.target.value.trim();\n        const isValid = (/^[0-9]{1,}$/).test(value)\n        if (isValid && value > 0) {\n            this.setState({otherAmountError: ''}, ()=> this.addToCart(+value, 99))\n        } else if (isValid) {\n            this.setState({otherAmount: 0, selectedIndex: null, otherAmountError: ''}, ()=> this.props.removeFromCart('donation'))\n        } else {\n            this.setState({otherAmount: '', otherAmountError: \"Number > 0\"})\n        }\n    }\n    \n    render() {\n        const { \n            monthlyChecked,\n            arrayOptions: {\n                givingFormat,\n                singleOption,\n                monthlyOption,\n                monthlyAmounts, \n                singleAmounts\n            } \n        } = this.props;\n        const {\n            otherAmount,\n            otherAmountError,\n            selectedIndex\n        } = this.state\n\n        return (\n            <React.Fragment>\n                <h3 styleName=\"styles.askarray__header\">Select A {monthlyChecked ? \"Monthly\" : \"Single\"} Donation Amount</h3>\n                <div id=\"AskArray\" styleName=\"styles.askarray flex.flex flex.flex-row flex.flex-center flex.flex-wrap\">\n                    { monthlyOption && monthlyChecked ? this.renderArray(monthlyAmounts, selectedIndex) : null }\n                    { singleOption && !monthlyChecked ?  this.renderArray(singleAmounts, selectedIndex) : null }\n                    <div id=\"OtherAmout\" styleName={`styles.askarray__form-group flex.flex flex.flex-center flex.flex-axes-center${selectedIndex == 99 ? \" styles.selected\": \"\"}`}>\n                        <label styleName=\"styles.form-group__other-input--label\" htmlFor=\"other-amt-input\">Other Amount</label>\n                        <input styleName=\"styles.form-group__other-input\" name=\"other-amt-input\" onChange={this.handleOtherAmt} value={otherAmount == 0 ? '' : otherAmount}/>\n                        <div styleName=\"styles.error styles.other-amt-error\">{otherAmountError}</div>\n                    </div> \n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default GivingArray","import React, { Component } from 'react'\n\nimport styles from './styles/products.module.css'\nimport flex from './styles/flex.module.css'\n\nclass ProductDisplay extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            fields: {\n                additionalGift: props.hydratedAdditionalGift >= 0 ? props.hydratedAdditionalGift : 0\n            },\n            errors: {\n                additionalGift: \"\"\n            },\n            additionalGiftError: \"\",\n            totalGift: 0,\n            hydrated: false,\n            hydratedAdditionalGift: props.hydratedAdditionalGift,\n            productInfo: props.productInfo,\n            initialUpdate: false\n        }\n        this.handleInputChange=this.handleInputChange.bind(this)\n        this.createMarkup=this.createMarkup.bind(this)\n        this.renderAdditionalGift = this.renderAdditionalGift.bind(this)\n        this.hydrateProducts = this.hydrateProducts.bind(this)\n        this.calculateTotalGift = this.calculateTotalGift.bind(this)\n    }\n\n    componentDidMount() {\n        const {productInfo, hydratedAdditionalGift} = this.props;\n        if ((productInfo.length || hydratedAdditionalGift > 0) && !this.state.hydrated) {\n            // console.log({mountedhydratedAdditionalGift: hydratedAdditionalGift})\n            this.hydrateProducts(productInfo, hydratedAdditionalGift);\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const {initialUpdate} = nextProps;\n        if (initialUpdate && !this.state.initialUpdate) {\n            return this.setState({initialUpdate})\n        }\n        const {productInfo, hydratedAdditionalGift} = nextProps;\n        if ((productInfo.length || hydratedAdditionalGift > 0) && !nextProps.hydrated && !this.state.hydrated) {\n            // console.log({propshydratedAdditionalGift: hydratedAdditionalGift})\n            return this.hydrateProducts(productInfo, hydratedAdditionalGift);\n        } \n        if (JSON.stringify(productInfo) != JSON.stringify(this.props.productInfo)) {\n            const totalGift = this.calculateTotalGift(productInfo, this.state.fields[\"additionalGift\"])\n            return this.setState({productInfo, totalGift})\n        }\n    }\n\n    /**\n     * Calculates the total gift for displaying to donor\n     * @param {Array} productInfo - list of of all products having been ordered, idx of the product and quantity\n     * @param {Number} additionalGift - value of user entered additional Gift\n     * @returns {Number} value of Total Gift\n     */\n    calculateTotalGift(productInfo, additionalGift) {\n        const { products } = this.props.productOptions\n        const totalGift = (products.length && productInfo.length) ? productInfo.reduce((a, b)=> a + (parseInt(products[b.idx].PledgeAmount) * b.quantity), 0) + additionalGift : additionalGift;\n        // console.log({totalGift, productInfo})\n        return totalGift\n    }\n\n    /**\n     * Sets State from a new productInfo object\n     * @param {Array} productInfo - Array holding state of cart as it relates to product\n     * @param {Number} hydratedAdditionalGift - Value of amount pledge as additional gift\n     */\n    hydrateProducts(productInfo, hydratedAdditionalGift) {\n        const fields = {...this.state.fields};\n        productInfo.forEach(product=>{\n            const {idx, quantity} = product;\n            fields[`product-select-${idx}`] =  quantity ? quantity : 0;\n          });\n        fields[\"additionalGift\"] = hydratedAdditionalGift > 0 ? hydratedAdditionalGift : fields[\"additionalGift\"]\n        const totalGift = this.calculateTotalGift(productInfo, fields[\"additionalGift\"])\n        this.setState({fields, totalGift, hydrated: true});\n    }\n\n    handleInputChange(e) {\n        const target = e.target;\n        let value = target.value;\n        const name = target.name;\n        \n        const fields = {...this.state.fields}, errors = {...this.state.errors};\n        let { totalGift, productInfo } = this.state;\n\n        if (name === \"additionalGift\") {\n            const isValid = /[0-9]+/.test(value)\n            errors[name] = !isValid ? \"Must be a valid whole dollar amount above 0\" : \"\"\n            if (isValid && +value > 0) {\n                const { DetailCprojMail, DetailCprojCredit, DetailDescription, DetailName } = this.props.productOptions.additionalGift\n                this.props.addToCart({\n                    type: 'additionalGift',\n                    PledgeAmount: +value,\n                    DetailCprojMail,\n                    DetailCprojCredit,\n                    DetailDescription,\n                    DetailName\n                })\n            } else {\n                this.props.removeFromCart('additionalGift')\n            }\n            fields[name] = isValid ? +value : 0;\n            totalGift = this.calculateTotalGift(productInfo, +value)\n        } else {\n            fields[name] = value;   \n            const idx = parseInt(name.split(\"product-select-\")[1])\n            // console.log({name, idx, value})\n            this.props.updateProducts({idx, quantity: value})\n\n        }\n\n        this.setState({ fields, errors, totalGift });\n    }\n    createMarkup(text) {\n        return { __html: text }\n    }\n\n    renderAdditionalGift(additionalGift) {\n        const {fields, errors} = this.state;\n        return additionalGift.display ? (\n            <div styleName=\"styles.additional-amount flex.flex flex.flex-left flex.flex-axes-center\">\n                <label styleName=\"styles.product-total__input--label\" htmlFor=\"additionalGift\">$</label>\n                <input styleName='styles.additional-amount__input' \n                    name=\"additionalGift\"\n                    placeholder=\"0\"\n                    onBlur={e=> e.target.value === \"\" ? e.target.value = 0 : true}\n                    onFocus={e=> e.target.value === 0 ? e.target.value = \"\" : true}\n                    onChange={this.handleInputChange} \n                    value={fields.additionalGift }\n                />\n                <div styleName=\"styles.additional-amount__input--label\">{additionalGift.additionalGiftMessage}</div>\n                <div styleName=\"styles.error\">{errors.additionalGift}</div>\n            </div> \n        ) : null;\n    }\n\n    render() {\n        const { products, numProducts, additionalGift } = this.props.productOptions\n        const { fields, totalGift } = this.state;\n        if (numProducts == 0) return null\n\n        else {\n            function renderOptions(ind) {\n                const options = []\n                for(let i = 0; i <= 99; i++){\n                    options.push(<option key={`prod-option-${ind}-${i}`} value={i}>{i}</option>)\n                }\n                return options\n            }\n            return (\n                <div styleName=\"styles.products-display\">\n                    {   products.map((product, i)=>{\n\n                        return (\n                            <div key={`product${i}`} styleName=\"styles.product-card flex.flex flex.flex-row flex.flex-left flex.flex-axes-center\">\n                                <div styleName=\"flex.flex flex.flex-column\">\n                                    <label htmlFor={`product-select-${i}`} styleName=\"styles.select-product__label\">Quantity</label>\n                                    <select styleName=\"styles.select-product flex.flex-no-grow\" \n                                        name={`product-select-${i}`} \n                                        value={fields[`product-select-${i}`] >= 0 ? fields[`product-select-${i}`] : 0} \n                                        onChange={this.handleInputChange}\n                                    >\n\n                                        { renderOptions(i) }\n                                        \n                                    </select>\n                                </div>\n                                <div styleName=\"styles.product-card__body flex.flex-grow\">\n                                    <div styleName=\"styles.product-card__title\">{product.productTitle} - ${product.PledgeAmount}</div>\n                                    <div styleName=\"styles.product-card__description\" dangerouslySetInnerHTML={this.createMarkup(product.productMessage)}></div>\n                                </div>\n                            </div>\n                            )\n                        })\n                    }\n                    { this.renderAdditionalGift(additionalGift) }\n                    <div styleName=\"styles.product-total flex.flex flex.flex-left flex.flex-axes-center\">\n                        <label styleName=\"styles.product-total__input--label\" htmlFor=\"total-product-gift\">$</label>\n                        <input styleName='styles.product-total__input flex.flex-no-grow' name=\"total-product-gift\" value={totalGift} disabled={true}/>\n                        <div styleName=\"styles.product-total__input--label\">Product Subtotal</div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default ProductDisplay","import React, { Component } from 'react'\n\nimport styles from './styles/funds.module.css'\nimport flex from './styles/flex.module.css'\n\nclass FundDisplay extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            numFunds: props.fundOptions.numFunds,\n            funds: [...props.fundOptions.funds],\n            fields: {\n                values: {}\n            },\n            expanded: false,\n            selectedIndex: 0,\n            initialUpdate: false\n        }\n        this.handleDropDownClick=this.handleDropDownClick.bind(this)\n        this.createMarkup=this.createMarkup.bind(this)\n        this.expandSelection= this.expandSelection.bind(this)\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.initialUpdate && !this.state.initialUpdate) {\n            this.setState({numFunds: nextProps.fundOptions.numFunds, funds: [...nextProps.fundOptions.funds], initialUpdate: true})\n        }\n    }\n    handleDropDownClick(e) {\n        const selectedIndex = parseInt(e.target.dataset.id);\n        const {DetailName, DetailDescription, DetailCprojCredit, DetailCprojMail} = this.state.funds[selectedIndex]\n        this.props.updateDonation({DetailName, DetailDescription, DetailCprojCredit, DetailCprojMail});\n        this.setState({expanded: false, selectedIndex})\n    }\n    createMarkup(text) {\n        return { __html: text }\n    }\n\n    expandSelection(){\n        this.setState({expanded: true, selectedIndex: null})\n    }\n\n    renderFundCards(selectedIndex) {\n        if (selectedIndex >= 0) {\n            return this.state.funds.map((fund, i)=>{\n                return (\n                    <div key={`fund-${i}`} styleName={selectedIndex === i ? \"styles.fund-card styles.selected flex.flex flex.flex-row flex.flex-between flex.flex-axes-center\" : \"styles.fund-card flex.flex flex.flex-row flex.flex-between flex.flex-axes-center\"} onClick={this.expandSelection}>\n                        <div styleName={fund.imgSrc ? \"styles.fund-card__image\" : \"styles.hidden\"} onClick={this.expandSelection}>\n                            <img styleName=\"styles.img-responsive\" src={fund.imgSrc}/>\n                        </div>\n                        <div styleName=\"styles.fund-card__body flex.flex flex.flex-column flex.flex-start\" onClick={this.expandSelection}>\n                            <div styleName=\"styles.fund-card__body--title\" onClick={this.expandSelection}>{fund.fundTitle}</div>\n                            <div styleName=\"styles.fund-card__body--description\" dangerouslySetInnerHTML={this.createMarkup(fund.fundDescription)} onClick={this.expandSelection}></div>\n                        </div>\n                        <div styleName=\"styles.dropDownArrow\" onClick={this.expandSelection}>&#9663;</div>\n                    </div>\n                )\n            })\n        }\n        return null\n    }\n\n    renderExpandedCards(expanded) {\n        if (expanded){\n            const funds = this.state.funds.map((fund, i)=>{\n                return (\n                    <div key={`fundDropdown-${i}`} data-id={i} styleName=\"styles.fund-card__dropdown flex.flex flex.flex-row flex.flex-between flex.flex-axes-center\" onClick={this.handleDropDownClick}>\n                        <div styleName={fund.imgSrc ? \"styles.fund-card__image\" : \"styles.hidden\"} data-id={i}>\n                            <img styleName=\"styles.img-responsive\" src={fund.imgSrc}/>\n                        </div>\n                        <div styleName=\"styles.fund-card__body flex.flex flex.flex-column flex.flex-start\" data-id={i}>\n                            <div styleName=\"styles.fund-card__body--title\" data-id={i}>{fund.fundTitle}</div>\n                            <div styleName=\"styles.fund-card__body--description\" dangerouslySetInnerHTML={this.createMarkup(fund.fundDescription)} data-id={i}></div>\n                        </div>\n                        <div data-id={i} styleName=\"styles.dropDownArrow\" onClick={this.handleDropDownClick}>+</div>\n                    </div>\n                )\n            })\n            return (\n                <div styleName=\"styles.select-fund__dropdown flex.flex flex.flex-row flex.flex-axes-center flex.flex-wrap\">\n                    { funds }\n                </div>\n            )\n        }\n        return null\n    }\n\n    render() {\n        if (this.state.numFunds == 0) return null\n        \n        else {\n\n            return (\n                <div styleName=\"styles.funds-display\">\n                    <h3 styleName=\"styles.funds__header\">I Want to Support</h3>\n                    <div styleName=\"styles.select-fund flex.flex flex.flex-row flex.flex-axes-center\">\n                        { this.renderFundCards(this.state.selectedIndex)}\n                                   \n                    </div>\n                    {this.renderExpandedCards(this.state.expanded)} \n                </div>\n\n            )\n        }\n    }\n}\n\nexport default FundDisplay","import React from 'react'\n\nimport flex from './styles/flex.module.css'\nimport styles from './styles/radio.module.css'\n\nfunction RadioButton(props) {\n    return (\n        <div id={`${props.id}-group`} styleName=\"flex.flex flex.flex-row flex.flex-axes-center styles.radio-group\">\n            <input styleName=\"styles.radio-group__input\" name={props.name} id={`${props.id}gift`} type=\"radio\" checked={props.checked} onChange={props.handleRadioClick}/>\n            <label htmlFor={`${props.id}gift`}>{props.label}</label>\n        </div>\n    )\n}\n\nexport default RadioButton","import React from 'react'\n\nimport RadioButton from './RadioButton'\n\nimport styles from './styles/monthly-radio.module.css'\nimport flex from './styles/flex.module.css'\n\nfunction MonthlyRadioGroup({handleInputChange, monthlyChecked, Monthlypledgeday, handleRadioClick}) {\n\n    let monthly = monthlyChecked;\n    let single = !monthlyChecked;\n\n    function renderCCInfo() {\n        const options = []\n        for(let i = 2; i <= 28; i++){\n            options.push(<option key={\"date-option-\" + i} value={i}>{i}</option>)\n        }\n        return (\n            <div styleName=\"styles.monthlyGivingDay\">\n                <h5 styleName=\"styles.ccDayOfMonth\">Charge automatically on day&nbsp;\n                    <label htmlFor=\"Monthlypledgeday\" styleName=\"styles.hidden\">Select Date</label>\n                    <select styleName=\"styles.ccdate\" name=\"Monthlypledgeday\" onChange={handleInputChange} value={Monthlypledgeday}>\n                        { options }\n                    </select>\n                &nbsp;each month.</h5>\n            </div>   \n        )\n    }\n    return (\n        <div id=\"MonthlyGivingInfo\">\n            <h3 styleName=\"styles.form-header\">How Often Do You Want to Give This Amount?</h3>\n                <div styleName=\"flex.flex flex.flex-row flex.flex-between styles.monthly-radio\">\n                    <RadioButton id=\"monthly\" name=\"monthly-toggle\" label=\"Monthly Gift\" checked={monthly} handleRadioClick={handleRadioClick}/>\n                    <RadioButton id=\"single\" name=\"monthly-toggle\" label=\"Single Gift\" checked={single} handleRadioClick={handleRadioClick}/>\n                </div>\n                { monthlyChecked ? renderCCInfo() : null }\n        </div>\n    )\n}\n\nexport default MonthlyRadioGroup","import React from 'react'\n\nimport styles from './styles/input.module.css'\n\nfunction SelectGroup({id, specialStyle, required, error, value, handleInputChange, options}) {\n    return (\n        <div id={`form-field-${id}`} styleName={`${specialStyle ? specialStyle : \"\"} styles.form-group`}>\n            <label htmlFor={id}>{id}<span>{required ? '*' : ''}</span></label>\n            <select styleName={`styles.form-control${error ? \" styles.error\" : \"\"}`}\n                id={id}\n                name={id}  \n                required={required} \n                value={value} \n                onChange={handleInputChange}\n                aria-invalid={error ? true : false} \n            >\n                {options}\n            </select>\n            <div styleName=\"styles.error\">{error}</div>\n        </div>\n    )\n}\n\nexport default SelectGroup;","import React from 'react'\n\nimport styles from './styles/input.module.css'\n\nfunction InputGroup({id, specialStyle, label, required, international, error, value, type, maxLength, placeholder, disabled, validation, handleInputChange}) {\n    return (\n        <div id={`form-field-${id}`} styleName={`${specialStyle ? specialStyle : \"\"} styles.form-group`}>\n            <label htmlFor={id}>{label}<span>{required ? '*' : ''}</span>{ international ? <small style={{fontSize: \"10px\"}}>(Outside U.S. use &ldquo;NA&rdquo;}</small> : null }</label>\n            <input styleName={`styles.form-control${error ? \" styles.error\" : \"\"}`}\n                type={type} \n                id={id}\n                maxLength={maxLength} \n                name={id} \n                placeholder={placeholder}\n                required={required}\n                value={value}\n                onChange={handleInputChange}\n                aria-invalid={error ? true : false}\n                disabled={disabled}\n                pattern={validation ? validation : \".*\"} \n            />\n            <div styleName=\"styles.error\">{error}</div>\n        </div>\n    )\n}\n\nexport default InputGroup;","import React from 'react'\n\nimport SelectGroup from './SelectGroup'\nimport InputGroup from './InputGroup'\n\nimport styles from './styles/form-row.module.css'\nimport flex from './styles/flex.module.css'\n\nfunction TitleDropdown({value, error, handleInputChange}) {\n    const vals = ['', \"Mr\", \"Ms\", \"Mrs\", \"Mr and Mrs\"]\n    const options = vals.map((el, ind)=>{\n        return <option key={`title-${ind}`} value={el}>{ind === 0 ? <React.Fragment>Title* &#9663;</React.Fragment> : el}</option>\n    })\n    return (\n        <SelectGroup \n            id=\"Title\"\n            specialStyle=\"styles.form-group--Title\"\n            required={true}\n            value={value}\n            error={error}\n            handleInputChange={handleInputChange}\n            options={options}\n        />\n    )\n}\n\n /**\n * Function to render a name input\n * @param {String} type - either 'First', 'Last', or 'Middle' \n * @param {Boolean} required \n * @param {Function} handleInputChange\n * @param {String} value\n * @param {String} error\n * @returns {JSX} - InputGroup with given parameters\n */\nfunction NameInput({type, required, handleInputChange, value, error}){\n    const id = `${type}name`\n    const label = `${type} Name`\n    const specialStyle = \"styles.form-group--\" + id\n    // console.log({id, label, specialStyle})\n    return (\n        <InputGroup\n            type=\"text\"\n            id={id}\n            specialStyle={specialStyle} \n            label={label}\n            placeholder={ required ? label + \"*\" : label} \n            maxLength={type === \"Last\" ? 25 : 20} \n            required={required} \n            value={value} \n            handleInputChange={handleInputChange} \n            error={error} \n        />\n    )\n}\n\n /**\n * Function to render spousename input\n * @param {String} value\n * @param {String} error\n * @param {Function} handleInputChange\n * @returns {JSX} - InputGroup with given parameters\n */\nfunction SpouseInput({value, error, handleInputChange}) {\n    return (\n        <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n            <InputGroup\n                type=\"text\"\n                id=\"Spousename\" \n                specialStyle=\"\" \n                label=\"Spouse&rsquo;s Name\" \n                placeholder=\"Spouse&rsquo;s First and Last Name\" \n                maxLength=\"100\" \n                required={false} \n                value={value} \n                handleInputChange={handleInputChange} \n                error={error} \n            />\n        </div>\n    )\n}\n\nfunction NameBlock({getMiddleName, getSuffix, getSpouseInfo, fields, errors, handleInputChange}){  \n    if (!getMiddleName && !getSuffix) {\n        return (\n            <React.Fragment>\n                <div styleName=\"styles.form-row styles.name-row flex.flex flex.flex-row flex.flex-between\">\n                    <TitleDropdown value={fields.Title} error={errors.Title} handleInputChange={handleInputChange}/>\n                    <NameInput type={\"First\"} required={true} handleInputChange={handleInputChange} value={fields[\"Firstname\"]} error={errors[\"Firstname\"]}/>\n                    <NameInput type={\"Last\"} required={true} handleInputChange={handleInputChange} value={fields[\"Lastname\"]} error={errors[\"Lastname\"]}/>                         \n                </div>\n                {\n                    getSpouseInfo && (\n                        <SpouseInput value={fields.Spousename} error={errors.Spousename} handleInputChange={handleInputChange} />\n                    )\n                }\n            </React.Fragment>\n        )\n    } else {\n        return (\n            <React.Fragment>\n                <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                    <TitleDropdown value={fields.Title} error={errors.Title}/>\n                    <NameInput type={\"First\"} required={true} handleInputChange={handleInputChange} value={fields[\"Firstname\"]} error={errors[\"Firstname\"]}/>\n                    {\n                        getMiddleName &&\n                            <NameInput type={\"Middle\"} required={true} handleInputChange={handleInputChange} value={fields[\"Middlename\"]} error={errors[\"Middlename\"]}/>\n                    }\n                </div>\n                <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">                           \n                    <NameInput type={\"Last\"} required={true} handleInputChange={handleInputChange} value={fields[\"Lastname\"]} error={errors[\"Lastname\"]}/>                         \n                    {\n                        getSuffix && (\n                            <SelectGroup \n                                id=\"Suffix\"\n                                specialStyle=\"\"\n                                required={false}\n                                value={fields.Suffix}\n                                error={errors.Suffix}\n                                handleInputChange={handleInputChange}\n                                options={[\n                                    <option key=\"suff-0\" value=\"\">Suffix* &#9663;</option>,\n                                    <option key=\"suff-1\" value=\"Jr\">Jr</option>,\n                                    <option key=\"suff-2\" value=\"Sr\">Sr</option>,\n                                    <option key=\"suff-3\" value=\"III\">III</option>,\n                                    <option key=\"suff-4\" value=\"IV\">IV</option>,\n                                    <option key=\"suff-5\" value=\"Esq\">Esq</option>\n                                ]}\n                            />\n                        )\n                    }\n                </div>\n                {\n                    getSpouseInfo && (\n                        <SpouseInput value={fields.Spousename} error={errors.Spousename} handleInputChange={handleInputChange} />\n                    )\n                }\n            </React.Fragment>\n        )\n    }\n}\n\nexport default NameBlock;","import React from 'react'\n\nimport { canadianProvinces, other, usMilitary, usStates, usTerritories } from '../../config/dropdowns.json';\n\nfunction getStateOptions(international) {\n    \n    function renderOptGroup(type, options) {\n        return (\n            <optgroup key={type.replace(\" \",\"\")} label={type}>\n                {\n                    options.map((opt, i)=>{\n                        return (\n                            <option key={`${type.replace(' ', '')}State-${i}`} value={opt[1]}>\n                                { opt[0] }\n                            </option>\n                        )\n                    })\n                }\n            </optgroup>\n        )\n    }\n\n    let optGroups = []\n    const states = renderOptGroup(\"U.S. States\", usStates)\n    const military = renderOptGroup(\"U.S. Military\", usMilitary)\n    const territories = renderOptGroup(\"U.S. Territories\", usTerritories)\n    const otherOpt = renderOptGroup(\"Other\", other)\n    let provinces = null;\n    \n    if (international) {\n        provinces = renderOptGroup(\"Canadian Provinces\", canadianProvinces)\n    }\n    optGroups.push(states, military, provinces, territories, otherOpt)\n\n    return optGroups\n}\n\nexport default getStateOptions","import React from 'react'\n\nimport SelectGroup from './SelectGroup'\nimport InputGroup from './InputGroup'\n\nimport styles from './styles/form-row.module.css'\nimport flex from './styles/flex.module.css'\n\nimport getStateOptions from './helpers/renderStateOptions'\n\nfunction ShippingAddressBlock({fields, errors, handleInputChange, international}) {\n    return (\n        \n        <div id=\"ShippingAddressInfo\" styleName='styles.shipping-address__info'>\n            <div styleName=\"styles.form-row\">  \n                <div styleName='flex.flex flex.flex-row flex.flex-center'>\n                    <hr styleName='styles.line'/><div styleName='styles.divider-title'>Shipping Address</div><hr styleName='styles.line'/>\n                </div>\n            </div>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\" \n                    id=\"ShipToName\" \n                    specialStyle=\"\" \n                    label=\"Name\" \n                    placeholder=\"First and Last Name\" \n                    maxLength='100' \n                    required={fields.ShipToYes} \n                    value={fields.ShipToName} \n                    handleInputChange={handleInputChange} \n                    error={errors.ShipToName} \n                />\n            </div>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"ShipToAddress1\" \n                    specialStyle=\"\" \n                    label=\"Address\" \n                    placeholder=\"Shipping Address*\" \n                    maxLength='64' \n                    required={fields.ShipToYes} \n                    value={fields.ShipToAddress1} \n                    handleInputChange={handleInputChange} \n                    error={errors.ShipToAddress1} \n                />\n            </div>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"ShipToAddress2\" \n                    specialStyle=\"\" \n                    label=\"Address2\" \n                    placeholder=\"Shipping Address Line 2\" \n                    maxLength='64' \n                    required={false} \n                    value={fields.ShipToAddress2} \n                    handleInputChange={handleInputChange} \n                    error={errors.ShipToAddress2} \n                />\n            </div>\n            <div styleName=\"styles.form-row styles.city-state-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"ShipToCity\" \n                    specialStyle=\"styles.form-group--City\" \n                    label=\"City\" \n                    placeholder=\"City\" \n                    maxLength='64' \n                    required={fields.ShipToYes} \n                    value={fields.ShipToCity} \n                    handleInputChange={handleInputChange} \n                    error={errors.ShipToCity} \n                />\n                <SelectGroup \n                    id=\"ShipToState\"\n                    specialStyle=\"styles.form-group--State\"\n                    required={fields.ShipToYes}\n                    value={fields.ShipToState}\n                    error={errors.ShipToState}\n                    handleInputChange={handleInputChange}\n                    options={[<option key=\"shiptostate-base-0\" value=\"\">State* &#9663;</option>, getStateOptions(international)]}\n                />\n            </div>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"ShipToZip\" \n                    specialStyle=\"\" \n                    label=\"Zip\" \n                    placeholder=\"Zip*\" \n                    maxLength='5' \n                    required={fields.ShipToYes} \n                    value={fields.ShipToZip} \n                    handleInputChange={handleInputChange} \n                    error={errors.ShipToZip} \n                    international={international}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default ShippingAddressBlock","import React from 'react'\n\nimport InputGroup from './InputGroup'\nimport SelectGroup from './SelectGroup'\n\nimport styles from './styles/form-row.module.css'\nimport flex from './styles/flex.module.css'\n\nimport getStateOptions from './helpers/renderStateOptions'\nimport { countries } from '../config/dropdowns.json'\n\nfunction AddressBlock({fields, errors, handleInputChange, getPhone, international}){\n    return (\n        <React.Fragment>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"Address1\" \n                    specialStyle=\"\" \n                    label=\"Address\" \n                    placeholder=\"Address*\" \n                    maxLength=\"31\" \n                    required={true} \n                    value={fields.Address1} \n                    handleInputChange={handleInputChange} \n                    error={errors.Address1} \n                />\n            </div>\n            <div styleName=\"styles.form-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"Address2\" \n                    specialStyle=\"\" \n                    label=\"Address2\" \n                    placeholder=\"Address Line 2\" \n                    maxLength=\"31\" \n                    required={false} \n                    value={fields.Address2} \n                    handleInputChange={handleInputChange} \n                    error={errors.Address2} \n                />\n            </div>\n            <div styleName=\"styles.form-row styles.city-state-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"City\" \n                    specialStyle=\"styles.form-group--City\" \n                    label=\"City\" \n                    placeholder=\"City*\" \n                    maxLength=\"28\" \n                    required={true} \n                    value={fields.City} \n                    handleInputChange={handleInputChange} \n                    error={errors.City} \n                />\n                <SelectGroup \n                    id=\"State\"\n                    specialStyle=\"styles.form-group--State\"\n                    required={true}\n                    value={fields.State}\n                    error={errors.State}\n                    handleInputChange={handleInputChange}\n                    options={[<option key=\"state-base-0\" value=\"\">State* &#9663;</option>, getStateOptions(international)]}\n                />\n            </div>\n\n            <div styleName=\"styles.form-row styles.zip-country-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"Zip\" \n                    specialStyle=\"styles.form-group--Zip\" \n                    label=\"Zip\" \n                    placeholder=\"Zip*\" \n                    maxLength={fields.Country != \"US\" ? 25 : 5} \n                    required={true} \n                    value={fields.Zip} \n                    handleInputChange={handleInputChange} \n                    error={errors.Zip} \n                    international={international}\n                />\n\n                { \n                    international && (\n                        <SelectGroup \n                            id=\"Country\"\n                            specialStyle=\"styles.form-group--Country\"\n                            required={true}\n                            value={fields.Country}\n                            error={errors.Country}\n                            handleInputChange={handleInputChange}\n                            options={[<option key=\"country-base-0\" value=\"\">Country* &#9663;</option>, countries.map((country, i)=><option key={`country-${i}`} value={country}>{country}</option>)]}\n                        />\n                    ) \n                }\n            </div>\n            <div styleName=\"styles.form-row styles.email-phone-row flex.flex flex.flex-row flex.flex-between\">\n                <InputGroup\n                    type=\"text\"\n                    id=\"Emailaddress\" \n                    specialStyle=\"styles.form-group--Email\" \n                    label=\"Email Address\" \n                    placeholder=\"Email Address*\" \n                    maxLength=\"128\" \n                    required={true} \n                    value={fields.Emailaddress} \n                    handleInputChange={handleInputChange} \n                    error={errors.Emailaddress} \n                />\n                {\n                    getPhone && (\n                        <InputGroup\n                            type=\"text\"\n                            id=\"phone\" \n                            specialStyle=\"styles.form-group--Phone\" \n                            label=\"Phone Number\" \n                            placeholder=\"Phone\" \n                            maxLength=\"24\" \n                            required={false} \n                            value={fields.phone} \n                            handleInputChange={handleInputChange} \n                            error={errors.phone} \n                        />\n                    )\n                }\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default AddressBlock","import React from 'react'\nimport styles from './styles/checkbox.module.css'\n\nfunction Checkbox(props) {\n    return (\n        <React.Fragment>\n            <input \n                type='checkbox' \n                styleName=\"styles.checkbox-input\"\n                id={props.id} \n                name={props.id} \n                checked={props.checked} \n                onChange={props.handleInputChange}\n            />\n            <label htmlFor={props.id}>{props.label}</label> \n        </React.Fragment>\n    )\n}\n\nexport default Checkbox","import React from 'react'\n\nimport Checkbox from './Checkbox'\n\nimport styles from './styles/form-row.module.css'\nimport flex from './styles/flex.module.css'\n\nfunction FormOptionsBlock({id, checked, handleInputChange, label}){\n    return (\n        <div styleName=\"styles.form-row styles.ship-to-yes-row flex.flex flex.flex-row flex.flex-axes-center\">\n            <Checkbox id={id} checked={checked} handleInputChange={handleInputChange} label={label} />\n        </div>\n    )\n}\n\nexport default FormOptionsBlock","import React from 'react'\n\nimport styles from './styles/form-row.module.css'\n\nfunction SubmitButton({hasErrors, error, handleSubmit, submitting}){\n    return (\n        <div styleName=\"styles.form-row styles.submit-row\">\n            <input type=\"submit\" styleName=\"styles.submit-button\" id=\"submit\" onClick={handleSubmit} disabled={submitting} value=\"Continue to Payment &#10142;\"/>\n            <div styleName=\"styles.error styles.submit-error\">{ hasErrors && error ? error : hasErrors ? \"Please scroll up to correct errors.\" : \"\" }</div>\n        </div>\n    )\n}\n\nexport default SubmitButton","const formErrors = {\n    \"Address Line 1 is required and must not exceed required length or contain HTML Markup\": \"Address1\",\n    \"Address Line 2 must not exceed required length or contain HTML Markup\": \"Address2\",\n    \"Country is required\": \"Country\",\n    \"City, State, Zip Validatation Failed\": \"Zip\",\n    \"Invalid Title\": \"Title\",\n    \"First name is required and must not exceed required length or contain HTML Markup\": \"Firstname\",\n    \"Last name is required and must not exceed required length or contain HTML Markup\": \"Lastname\",\n    \"Middle name must not exceed required length or contain HTML Markup\": \"Middlename\",\n    \"Suffix must not exceed required length or contain HTML Markup\": \"Suffix\",\n    \"Spouse name must not exceed required length or contain HTML Markup\": \"Spousename\",\n    \"Invalid Phone Number\": \"phone\",\n    \"Invalid Email Address\": \"Emailaddress\",\n    \"Monthly amount required -- minimum is a dollar\": \"amount\",\n    \"Single amount required -- minimum is a dollar\": \"amount\"\n}\n\nconst breakingErrors = [\n    \"Invalid Transaction Type -- Montlhy, Single, or Product Only\",\n    \"Charge day required for Monthly Credit Card Gifts\",\n    \"Valid Client IP is required\",\n    \"Valid Client Browser name is required\",\n    \"Missing Donation Details\",\n    \"Motivation text is required and must not exceed required length or contain HTML Markup\"\n]\n\n/**\n * Takes an Error message and returns type, either breaking for form\n * @param {string} message - text string returned from API\n * @returns {Object} - { breaking: Boolean, name: String}\n */\nexport function getErrorType(message) {\n    if (breakingErrors.indexOf(message) > -1) {\n        return { breaking: true, name: ''}\n    } else {\n        let name = formErrors[message];\n        // console.log({name, message})\n        if (!name) {\n            if (message.includes(\"Postal\")) {\n                name = \"Zip\"\n            } else if (message.includes(\"State\")) {\n                name = \"State\"\n            } else {\n                name = \"City\"\n            }\n        }\n        return { breaking: false, name }\n    }\n}","import React, {Component} from 'react'\n\nimport GivingArray from './GivingArray'\nimport ProductDisplay from './ProductDisplay'\nimport FundDisplay from './FundDisplay'\nimport MonthlyRadioGroup from './MonthlyRadioGroup'\nimport NameBlock from './NameBlock'\nimport ShippingAddressBlock from './ShippingAddressBlock';\nimport AddressBlock from './AddressBlock';\nimport FormOptionsBlock from './FormOptionsBlock';\nimport SubmitButton from './SubmitButton';\n\nimport flex from './styles/flex.module.css'\nimport styles from './styles/name-address-form.module.css'\n\nimport { getErrorType } from './helpers/error-types';\nimport { callApi } from './helpers/fetch-helpers';\nimport { crypt } from './helpers/crypt';\n\n\nconst email_regex = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/, \n    phone_regex = /1?\\W*([2-9][0-8][0-9])\\W*([2-9][0-9]{2})\\W*([0-9]{4})/,\n    zip_regex = /^\\d{5}$/,\n    firstname_regex= /^([a-zA-Z0-9\\-\\.' ]+)$/i,\n    lastname_regex=/^([a-zA-Z0-9\\-\\.' ]+)(?:(,|\\s|,\\s)(jr|sr|ii|iii|iv|esq)\\.*)?$/i;\n\nconst getDay = () => {\n    let date = new Date().getDate()\n    return date >= 2 && date <=28 ? date : 2\n}\n\nclass NameAddressForm extends Component {\n    constructor(props){\n        super(props)\n        // console.log({hydratedData: props.hydratedData})\n        const fields = {\n            Zip: props.hydratedData ? props.hydratedData.Zip : \"\",\n            Monthlypledgeday: props.hydratedData && props.hydratedData.Monthlypledgeday ? props.hydratedData.Monthlypledgeday : getDay(),\n            Title: props.hydratedData ? props.hydratedData.Title : \"\",\n            Firstname: props.hydratedData ? props.hydratedData.Firstname : \"\",\n            Middlename: props.hydratedData ? props.hydratedData.Middlename : \"\",\n            Lastname: props.hydratedData ? props.hydratedData.Lastname : \"\",\n            Suffix: props.hydratedData ? props.hydratedData.Suffix : \"\",\n            Spousename: props.hydratedData ? props.hydratedData.Spousename : \"\",\n            Address1: props.hydratedData ? props.hydratedData.Address1 : \"\",\n            Address2: props.hydratedData ? props.hydratedData.Address2 : \"\",\n            City: props.hydratedData ? props.hydratedData.City  : \"\",\n            State: props.hydratedData ? props.hydratedData.State : \"\",\n            Country: props.hydratedData ? props.hydratedData.Country : props.international ? \"\" : \"United States\",\n            Emailaddress: props.hydratedData ? props.hydratedData.Emailaddress : \"\",\n            phone: props.hydratedData ? props.hydratedData.Phoneareacode + props.hydratedData.Phoneexchange + props.hydratedData.Phonenumber : \"\",\n            savePersonalInfo: true,\n            ShipToYes: props.hydratedData && props.hydratedData.ShipTo === \"Yes\" ? true : false,\n            ShipToName: props.hydratedData ? props.hydratedData.ShipToName : \"\",\n            ShipToAddress1: props.hydratedData ? props.hydratedData.ShipToAddress1 : \"\",\n            ShipToAddress2: props.hydratedData ? props.hydratedData.ShipToAddress2 : \"\",\n            ShipToCity: props.hydratedData ? props.hydratedData.ShipToCity : \"\",\n            ShipToZip: props.hydratedData ? props.hydratedData.ShipToZip : \"\",\n            ShipToState: props.hydratedData ? props.hydratedData.ShipToState : \"\"\n        }\n        const errors = {}\n        for (let field in fields) {\n            errors[field] = \"\"\n        }\n        errors.amount = \"\"\n        this.state = {\n            monthlyChecked: props.defaultOption == \"monthly\",\n            totalGift: 0,\n            submitted: false,\n            submitting: false,\n            fundSelected: false,\n            fundInfo: {},\n            productsOrdered: false,\n            productInfo: [],\n            givingInfo: [],\n            cart: {\n                items: []\n            },\n            fields,\n            errors,\n            defaultAmount: props.defaultAmount,\n            defaultOption: props.defaultOption,\n            hydratedAdditionalGift: 0,\n            initialUpdate: false\n        }\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.validateInput = this.validateInput.bind(this)\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.handleRadioClick = this.handleRadioClick.bind(this)\n        this.addToCart = this.addToCart.bind(this)\n        this.removeFromCart = this.removeFromCart.bind(this)\n        this.updateDonation = this.updateDonation.bind(this)\n        this.updateProducts = this.updateProducts.bind(this)\n        this.callZipCityStateService = this.callZipCityStateService.bind(this)\n        this.callAddressVerification = this.callAddressVerification.bind(this)\n    }\n\n    componentDidMount(){\n        // check to see if this is a postback from confirmation page\n        if (this.props.hydratedData && this.props.hydratedData.MultipleDonations) {\n            // initialize variables in such a way as to not mutate state\n            let amount = 0, isMonthly = false, additionalGift = 0;\n            const items = [...this.state.cart.items];\n            const { products } = this.props\n            let productInfo = [...this.state.productInfo], { productsOrdered } = this.state, givingInfo = [...this.state.givingInfo]\n            const MultipleDonations = [...this.props.hydratedData.MultipleDonations];\n\n            // loop through multiple donations and reconstruct virual cart\n            for (let i = 0; i < MultipleDonations.length; i++) {\n                const { DetailName, DetailDescription, DetailCprojCredit, DetailCprojMail, PledgeAmount } = MultipleDonations[i];\n                let type = DetailName === \"MP\" || DetailName === \"SPGF\" ? \"donation\" : \"product\";\n                if (type == \"donation\") {\n                    amount = +PledgeAmount\n                    isMonthly = DetailName === \"MP\" ? true : false;\n                    givingInfo.push({amount, isMonthly})\n                }\n                if (type == \"product\") {\n                    const idx = products.findIndex(el=> el.DetailDescription === DetailDescription)\n                    if (idx > -1) {\n                        const quantity = parseInt(DetailName.split('|')[1])\n                        productInfo.push({idx, quantity})\n                        productsOrdered = true;\n                    } else {\n                        type = \"additionalGift\"\n                        additionalGift = +PledgeAmount\n                    }\n                }\n                items.push({\n                    type,\n                    PledgeAmount,\n                    DetailCprojMail,\n                    DetailCprojCredit,\n                    DetailDescription,\n                    DetailName,\n                    monthly: isMonthly\n                })\n            }\n            // console.log({items, amount, additionalGift})\n            const monthlyChecked = isMonthly\n            this.setState({\n                cart: {items}, \n                givingInfo, \n                productInfo, \n                productsOrdered, \n                hydratedAdditionalGift: additionalGift,  \n                monthlyChecked\n            })\n        }\n    }\n\n    componentWillUnmount() {\n        // if user has selected to save personal info,  \n        const {savePersonalInfo} = this.state.fields\n        if (savePersonalInfo) {\n            // get all user information from form\n            const {Address1, Address2, City, Country, Emailaddress, Firstname, Middlename, Lastname, Spousename, Suffix, State, Title, Zip, phone} = this.state.fields\n            const Phoneareacode = phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[1] : \"\",\n            Phoneexchange = phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[2] : \"\",\n            Phonenumber =  phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[3] : \"\";\n\n            const formData = { Address1, Address2, City, Country, Emailaddress, Firstname, Middlename, Lastname, Phoneareacode, Phoneexchange, Phonenumber, Spousename, Suffix, State, Title, Zip }\n            // lifetime of stored data on this form\n            const days = 30\n            //convert days into milliseconds\n            const lifetime = days * 24 * 60 * 60 * 1000 // n days = x days * 24 hours * 60 minutes * 60 seconds * 1000 milliseconds\n            // encrypt and add to local storage,\n            const info = crypt({formData, lifetime});\n            localStorage.setItem(\"info\", info);\n        } else {\n            // otherwise remove any stored data from local storage\n            localStorage.removeItem(\"info\");\n        }\n\n    }\n\n    /**\n     * Updates cart to remove any selected donations and toggles between monthly and single giving\n     * @param {Event} e \n     */\n    handleRadioClick(e) {\n        const items = [...this.state.cart.items];\n        const found = items.findIndex(el=>el && el.type == \"donation\")\n        const id = e.target.id;\n        if (found > -1) {\n            items[found] = {\n                type: 'donation',\n                PledgeAmount: 0,\n                DetailCprojMail: id == \"singlegift\"  ? this.props.singlePledgeData.DetailCprojMail : this.props.monthlyPledgeData.DetailCprojMail,\n                DetailCprojCredit: id == \"singlegift\"  ? this.props.singlePledgeData.DetailCprojCredit : this.props.monthlyPledgeData.DetailCprojCredit,\n                DetailDescription: id == \"singlegift\" ? \"Single Pledge\" : \"Monthly Pledge\",\n                DetailName: id == \"singlegift\" ? \"SPGF\" : \"MP\",\n                monthly: id == \"singlegift\" ? false : true\n            }\n        }\n        // console.log({items})\n        if(id == \"singlegift\") {\n             this.setState({monthlyChecked: false, cart: {items}})\n        } else {\n            this.setState({monthlyChecked: true, cart: {items}})\n        }\n    }\n\n    async handleInputChange(e) {\n        const target = e.target;\n        let value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        const fields = {...this.state.fields},  errors = {...this.state.errors};\n        let error;\n        const isZip = name.includes(\"Zip\") && value.length >= 5;\n        if (isZip) {\n            if (!zip_regex.test(value)) {\n                error = \"Invalid Postal Code\"\n            } else {\n                error = await this.callZipCityStateService(name, value)\n            }\n        } else {\n            error = this.validateInput(false, name, value);\n        }\n        errors[name] = error;     \n        if (isZip) {\n            this.setState({errors})\n        } else {\n            fields[name] = value;\n            this.setState({ fields, errors });\n        }\n    }\n\n    async handleSubmit(e) {\n        e.preventDefault();\n        if (this.state.submitting) return // ie. disallow multiple submissions\n\n        this.setState({submitting: true})\n              \n        //THINK THROUGH THIS LOGIC A LITTLE MORE\n        const items = [...this.state.cart.items];\n        const pledgeFound = items.findIndex(el=>el && el.type == \"donation\")\n        const addGiftFound = items.findIndex(el=>el && el.type == \"additionalGift\")\n        if (items.length == 0 || \n            (pledgeFound > -1 && items[pledgeFound].PledgeAmount == 0 && addGiftFound < 0) || \n            (pledgeFound < 0 && addGiftFound < 0) ) {\n            const errors = this.state.errors\n            errors.amount = \"Please make a valid donation\"\n            return this.setState({submitting: false, errors})\n        }\n\n        const errors = {...this.state.errors};\n        let isValidForm = true;\n        if (this.state.fields.Country == \"United States\") {\n            try {\n                const zipError = await this.callZipCityStateService(\"Zip\", this.state.fields[\"Zip\"]);\n                let addressError, shipZipError, shipAddressError;\n                if (!zipError) {\n                    try {\n                        addressError = await this.callAddressVerification(this.state.fields[\"Address1\"], this.state.fields[\"City\"], this.state.fields[\"State\"], this.state.fields[\"Zip\"])\n                    } catch(err) {\n                        console.log(\"AddressVerificationError\")\n                        console.error({err})\n                    }\n                }\n                if (this.state.fields[\"ShipToZip\"] && this.state.fields.ShipToYes) {\n                    try {\n                        shipZipError = await this.callZipCityStateService(\"ShipToZip\", this.state.fields[\"ShipToZip\"]);\n                    } catch(err) {\n                        console.log(\"CSZValidationError__SHIPPING\")\n                        console.error({err})\n                    }\n                }\n                if (!shipZipError && this.state.fields.ShipToYes) {\n                    try {\n                        shipAddressError = await this.callAddressVerification(this.state.fields[\"ShipToAddress1\"], this.state.fields[\"ShipToCity\"], this.state.fields[\"ShipToState\"], this.state.fields[\"ShipToZip\"])\n                    } catch(err) {\n                        console.log(\"AddressVerificationError__SHIPPING\")\n                        console.error({err})\n                    }\n                }\n                if (addressError || shipAddressError || zipError || shipZipError) {\n                    isValidForm = false;\n                    errors[\"Address1\"] = addressError;\n                    errors[\"ShipToAddress1\"] = addressError;\n                    errors[\"Zip\"] = zipError;\n                    errors[\"ShipToZip\"] = shipZipError;\n                }\n            } catch(err) {\n                console.log(\"CSZValidationError\")\n                console.error({err})\n            }\n        }\n        const { fields } = this.state;\n        const fieldNames = Object.keys(fields);\n        for (let i= 0; i < fieldNames.length; i++) {\n            let error;\n            const name = fieldNames[i]\n            if (!name.includes(\"Zip\")) {\n                error = this.validateInput(true, name, fields[name])\n                if (error) {\n                    isValidForm = false;\n                    errors[name] = error;\n                }\n            }\n        }\n\n        if (!isValidForm) {\n            return this.setState({submitting: false, errors})\n        }\n        //deconstruct necessary fields from state\n        const {Address1, Address2, City, Country, Emailaddress, Firstname, Middlename, Lastname, Spousename, Suffix, State, Title, Zip, ShipToYes, ShipToAddress1, ShipToAddress2, ShipToCity, ShipToState, ShipToZip, ShipToCountry, ShipToName, phone} = fields\n        const {mode, APIAccessID, MotivationText, subscriptions, AddContactYN, ActivityName, ContactSource, SectionName, proxy} = this.props\n        const ClientBrowser = window && window.navigator ? window.navigator.userAgent : ''\n        const UrlReferer = window.location.origin + window.location.pathname\n         \n        //construct phone fields from regex\n        const Phoneareacode = phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[1] : \"\",\n        Phoneexchange = phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[2] : \"\",\n        Phonenumber =  phone.trim().match(phone_regex) ? phone.trim().match(phone_regex)[3] : \"\";\n        \n        //process cart\n        let TransactionType = \"Product\"\n        const isMonthly = pledgeFound > -1 ? items[pledgeFound].monthly : false\n        const DonationType =  isMonthly ? \"CR\" : \"CC\";\n        const IsRecurringCreditCardDonation = isMonthly\n        const Monthlypledgeday = isMonthly ? this.state.fields.Monthlypledgeday : null\n        const Monthlypledgeamount = isMonthly && pledgeFound > -1 ? items[pledgeFound].PledgeAmount : 0\n        const Singledonationamount = !isMonthly && pledgeFound > -1 ? items[pledgeFound].PledgeAmount : 0\n        if (Monthlypledgeamount > 0) {\n            TransactionType = \"Monthly\"\n        }\n        if (Singledonationamount > 0) {\n            TransactionType = \"Single\"\n        }\n        const ShipTo = ShipToYes === true ? \"Yes\" : \"No\"\n        const multipleDonations = () => items.map(({DetailName, DetailDescription, DetailCprojCredit, DetailCprojMail, PledgeAmount}, index)=> {\n            if (index === pledgeFound && this.state.fundSelected) {\n                DetailName = this.state.fundInfo.DetailName\n                DetailDescription = this.state.fundInfo.DetailDescription\n                DetailCprojCredit = this.state.fundInfo.DetailCprojCredit\n                DetailCprojMail = this.state.fundInfo.DetailCprojMail\n            }\n            return {DetailName, DetailDescription, DetailCprojCredit, DetailCprojMail, PledgeAmount}\n        })\n        const MultipleDonations = multipleDonations();\n\n        let data = {\n            ActivityName,\n            AddContactYN,\n            Address1,\n            Address2,\n            APIAccessID,\n            City,\n            ContactSource,\n            Country,\n            DonationType,\n            Emailaddress,\n            Firstname,\n            IsRecurringCreditCardDonation,\n            Lastname,\n            Middlename,\n            Monthlypledgeamount,\n            Monthlypledgeday,\n            MotivationText,\n            MultipleDonations,\n            Phoneareacode,\n            Phoneexchange,\n            Phonenumber,\n            SectionName,\n            ShipTo,\n            Singledonationamount,\n            Spousename,\n            State,\n            Suffix,\n            Title,\n            TransactionType,\n            UrlReferer,\n            Zip,\n            ClientBrowser,\n            ShipToAddress1,\n            ShipToAddress2,\n            ShipToCity,\n            ShipToState,\n            ShipToZip,\n            ShipToCountry,\n            ShipToName,\n            mode\n        }\n        //flatten subscription information\n        subscriptions.forEach(sub=> data[sub.key]=sub.value);\n        // console.log({proxy})\n        // console.log({data})\n        try {\n            const msg = await callApi(proxy, {\n                method: 'POST',\n                mode: 'cors',\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                },\n                body: JSON.stringify(data)\n            })\n            // console.log({msg, data})\n            this.props.submitForm({msg, data})\n        } catch (err) {\n            console.error(err.message);\n            const {message} = err;\n            const {breaking, name} = getErrorType(message);\n            // console.log({breaking, name})\n            if (breaking) {\n                alert('There was an internal error submitting your form. Please check your information and try again or call us at 1-800-759-0700');\n            } else {\n                errors[name] = message;\n            }\n            this.setState({submitting: false, errors})\n        }\n    }\n    /**\n     * Sets the state with new product order information from the product display\n     * @param {Object} productInfo - Selected Fund \n     * @param {Number} productInfo.index - index of product being added or removed from cart\n     * @param {Number} productInfo.quantity - number of total items\n     */\n    updateProducts({idx, quantity}) {\n        // productInfo and productsOrdered to be used by Product Display to calculate a total donation\n        let productInfo = [...this.state.productInfo], { productsOrdered } = this.state;\n        const found = productInfo.findIndex(prod=> prod.idx === idx)\n        if (found > -1) {\n            productInfo[found].quantity = quantity\n        } else {\n            productInfo.push({idx, quantity})\n        }\n        const totalProducts = productInfo.reduce((a, b)=> a + b.quantity, 0)\n        productsOrdered = totalProducts ? true : false\n\n        //update cart by removing all instances of this particular product and adding back new quantity if any\n        const items = [...this.state.cart.items]\n        const { products } = this.props\n        const { DetailName, DetailCprojCredit, DetailCprojMail, DetailDescription, PledgeAmount} = products[idx];\n        const newItems = items.filter(el=> el.DetailDescription !== DetailDescription)\n        if (quantity) {\n\n            newItems.push({\n                    type: 'product',\n                    PledgeAmount: +PledgeAmount * quantity,\n                    DetailCprojMail: DetailCprojMail,\n                    DetailCprojCredit: DetailCprojCredit,\n                    DetailDescription: DetailDescription,\n                    DetailName: DetailName + \"|\" + quantity\n            })\n\n        }\n        // console.log({productInfo, productsOrdered, totalProducts, newItems})\n        this.setState({productInfo, productsOrdered, cart: {items: newItems}})\n    }\n\n    addToCart(item) {\n        const items = [...this.state.cart.items];\n        const found = items.findIndex( el => el && el.type == item.type )\n        if(found > -1) {\n            items[found] = item\n            const errors = {...this.state.errors}\n            errors.amount = \"\"\n            this.setState({errors})\n        } else {\n            items.push(item)\n        }\n        // console.log({items})\n        this.setState({cart: {items}})\n    }\n\n    removeFromCart(type) {\n        const items = [...this.state.cart.items];\n        const found = items.findIndex(el => el && el.type == type )\n        // console.log({type, found, items})\n        if (found > -1) {\n            items.splice(found, 1)\n            // console.log({items})\n            this.setState({cart: {items}})\n        }\n    }\n\n\n    /**\n     * Sets the state with new fund information from the fund select dropdown\n     * @param {Object} fundInfo - Selected Fund \n     * @param {String} fundInfo.DetailName\n     * @param {String} fundInfo.DetailDescription\n     * @param {String} fundInfo.DetailCprojCredit\n     * @param {String} fundInfo.DetailCprojMail\n     */\n    updateDonation(fundInfo){\n        this.setState({fundSelected: true, fundInfo})\n    }\n\n    /**\n     * Function to validate the input fields of the form\n     * @param {Boolean} submitting - current state of the form, true if being submitted\n     * @param {String} name - name of the input being validated\n     * @param {*} value - String, Number or Boolean of value from the input\n     * @returns {String} - an empty String if no errors, else a string with a single error message\n     */\n    validateInput(submitting, name, value) {\n        let error = '';\n        const { international } = this.state;\n        const {ShipToYes} = this.state.fields;\n        switch(name) {\n            case \"Title\":\n            case \"State\":\n            case \"Address1\":\n            case \"City\":\n                if (!value && submitting) {\n                    error = \"Required\"\n                }\n                break;\n            case \"ShipToState\":\n            case \"ShipToAddress1\":\n            case \"ShipToCity\":\n                if(!value && submitting && ShipToYes) {\n                    error = \"Required\"\n                }\n                break;\n            case \"Firstname\":\n                if(value && !firstname_regex.test(value)) {\n                    error = \"No special characters allowed. Please call if you need assistance.\"\n                }\n                if (!value && submitting) {\n                    error = \"Required\"\n                }\n                break;\n            case \"Middlename\":\n                if(value && !firstname_regex.test(value)) {\n                    error = \"No special characters allowed. Please call if you need assistance.\"\n                }\n                break;\n            case \"Lastname\":\n                if(value && !lastname_regex.test(value)) {\n                    error = \"No special characters allowed. Please call if you need assistance.\"\n                }\n                if (!value && submitting) {\n                    error = \"Required\"\n                }\n                break;\n            case \"ShipToName\":\n                if(value && !lastname_regex.test(value)) {\n                    error = \"No special characters allowed. Please call if you need assistance.\"\n                }\n                if (!value && ShipToYes && submitting) {\n                    error = \"Required\"\n                }\n                break;\n            case \"Spousename\" :\n                if(value && !lastname_regex.test(value)) {\n                    error = \"No special characters allowed. Please call if you need assistance.\"\n                }\n                break;\n            case \"Country\":\n                if (!value && submitting && international) {\n                    error = \"Required\"\n                }\n                break;\n            case \"Emailaddress\":\n                if (value && !(email_regex.test(value))){\n                    error = \"Please enter a valid email: ie. you@example.com\"\n                }\n                if (!value && submitting){\n                    error = \"Required\"\n                }\n                break;\n            case \"phone\":\n                if (value && !(phone_regex.test(value))){\n                    error = \"Please enter a valid phone number, numbers only: ie. 7575551212\"\n                }\n                break;\n        }\n        return error\n    }\n\n    /**\n     * \n     * @param {string} name - either Zip or ShipToZip\n     * @param {string} value - five digit zip code\n     */\n    async callZipCityStateService(name, value) {\n        const base = this.state.mode == \"development\" ? \"http://Services.cbn.local/AddressValidation/CityStatebyZip.aspx?PostalCode=\" : \"https://Services.cbn.com/AddressValidation/CityStatebyZip.aspx?PostalCode=\";\n        const url = `${base}${value}`;\n        const fields = {...this.state.fields};\n        try {\n            const result = await callApi(url);\n            const oldCity = fields[name == \"ShipToZip\" ? \"ShipToCity\" : \"City\"].toUpperCase();\n            let { city, state, zip, returnCode, returnMessage } = JSON.parse(result);\n            // console.log({ city, state, zip, returnCode, returnMessage })\n            if (returnCode == 1) {\n                // console.log(city)\n                const error = oldCity && !city.toUpperCase().includes(oldCity);\n                const newCity = error || !oldCity ? city.split(\";\")[0] : oldCity;\n                fields[name == \"ShipToZip\" ? \"ShipToCity\" : \"City\"] = newCity;\n                fields[name == \"ShipToZip\" ? \"ShipToState\" : \"State\"] = state;\n                fields[name == \"ShipToZip\" ? \"ShipToZip\" : \"Zip\"] = zip;\n                if (name == \"Zip\") {\n                    fields[\"Country\"] = \"United States\";\n                }\n                this.setState({fields});\n                return error ? city : '' ;\n            } else {\n                return returnMessage;\n            }\n        } catch (err) {\n            console.error(err);\n            return '';\n        }\n    }\n\n    /**\n     * \n     * @param {string} addr1 - user entered address\n     * @param {string} city - user entered city\n     * @param {string} state - user entered state\n     * @param {string} zip - user entered zip\n     * @returns {string} either empty or with error\n     */\n    async callAddressVerification(addr1, city, state, zip) {\n        const base = this.state.mode == \"development\" ? \"http://Services.cbn.local/AddressValidation/AddressVerification.aspx?\" : \"https://Services.cbn.com/AddressValidation/AddressVerification.aspx?\";\n        const url = encodeURI(`${base}addr1=${addr1}&city=${city}&state=${state}&zip=${zip}`)\n        try {\n            const result = await callApi(url);\n            // console.log({result})\n            const {returnCode, returnMessage} = JSON.parse(result);\n            return returnCode == 1 ? '' : returnMessage;\n        } catch(err) {\n            console.error({err})\n            return '';\n        }\n    }\n    \n    render() {\n        const {\n            showGivingArray, \n            givingFormat, \n            monthlyOption, \n            singleOption, \n            monthlyAmounts, \n            singleAmounts, \n            funds, \n            monthlyPledgeData, \n            singlePledgeData, \n            products, \n            additionalGift, \n            shipping,\n            international,\n            getPhone,\n            getSuffix,\n            getMiddleName,\n            getSpouseInfo\n        } = this.props;\n  \n        const arrayOptions = {\n                givingFormat,\n                monthlyOption,\n                singleOption,\n                monthlyAmounts,\n                singleAmounts,\n                funds,\n                monthlyPledgeData,\n                singlePledgeData\n            },\n            productOptions = {\n                products,\n                numProducts: products.length,\n                additionalGift\n            },\n            fundOptions = {\n                funds,\n                numFunds: funds.length\n            }\n        const { \n            defaultAmount,\n            defaultOption,\n            errors, \n            fields,\n            givingInfo,\n            productInfo, \n            submitting, \n            initialUpdate, \n            monthlyChecked,\n            hydratedAdditionalGift\n        } = this.state;\n        const hasErrors = Object.values(errors).filter(val => val && val.length > 0).length > 0;\n        return (\n            <form id=\"react-form\" autoComplete=\"off\" onSubmit={this.handleSubmit}>\n                <div styleName={showGivingArray ? \"styles.form-panel\" : \"styles.form-panel styles.hidden\"}>\n                    <div styleName=\"styles.gift-choice\">\n                        <GivingArray \n                            defaultAmount={defaultAmount}\n                            defaultOption={defaultOption}\n                            arrayOptions={arrayOptions} \n                            initialUpdate={initialUpdate}\n                            monthlyChecked={monthlyChecked} \n                            addToCart={this.addToCart}\n                            removeFromCart={this.removeFromCart}\n                            givingInfo={givingInfo}\n                        />\n                        <div styleName=\"styles.error styles.amount-error\">{errors.amount}</div>\n                    </div>\n                    { \n                        monthlyOption && singleOption && (\n                            <MonthlyRadioGroup \n                                monthlyChecked={monthlyChecked} \n                                Monthlypledgeday={fields.Monthlypledgeday} \n                                handleInputChange={this.handleInputChange} \n                                handleRadioClick={this.handleRadioClick}\n                            />\n                        ) \n                    }\n                </div>\n                <div styleName={fundOptions.numFunds ? \"styles.form-panel\" : \"styles.form-panel main.hidden\"}>\n                    <FundDisplay \n                        fundOptions={fundOptions} \n                        initialUpdate={initialUpdate}\n                        updateDonation={this.updateDonation}\n                    />\n                </div>\n                <div styleName={productOptions.numProducts ? \"styles.form-panel\" : \"styles.form-panel styles.hidden\"}>\n                    <ProductDisplay \n                        productInfo={productInfo}\n                        productOptions={productOptions} \n                        updateProducts={this.updateProducts}\n                        addToCart={this.addToCart}\n                        removeFromCart={this.removeFromCart}\n                        initialUpdate={initialUpdate}\n                        hydratedAdditionalGift={hydratedAdditionalGift}\n                      />\n                </div>\n                <div styleName=\"styles.form-panel\">\n                    <fieldset styleName=\"styles.fieldset\">\n                        <div styleName=\"styles.name-address__info\">\n                            <h3 styleName=\"styles.form-header\">Please Enter Your Billing Information</h3>\n                            <NameBlock\n                                fields={fields} \n                                errors={errors} \n                                getMiddleName={getMiddleName}\n                                getSuffix={getSuffix}\n                                getSpouseInfo={getSpouseInfo}\n                                handleInputChange={this.handleInputChange} \n                            />\n                            <AddressBlock \n                                fields={fields} \n                                errors={errors} \n                                handleInputChange={this.handleInputChange} \n                                getPhone={getPhone}\n                                international={international}\n                            />\n                        </div>               \n                    </fieldset>\n                    { \n                        shipping && (\n                            <fieldset styleName=\"styles.fieldset\">\n                                <div styleName=\"styles.shipping-address__container\">\n                                    <FormOptionsBlock \n                                        id=\"ShipToYes\"\n                                        checked={fields.ShipToYes}\n                                        handleInputChange={this.handleInputChange}\n                                        label=\"&nbsp;My shipping address is different than my billing address.\"\n                                    />\n                                    {\n                                        fields.ShipToYes && (\n                                            <ShippingAddressBlock \n                                                fields={fields} \n                                                errors={errors} \n                                                handleInputChange={this.handleInputChange} \n                                                international={international}\n                                            />\n                                        )\n                                    }\n                                </div>\n                            </fieldset>\n                        ) \n                    } \n                    <fieldset styleName=\"styles.fieldset\">\n                        <FormOptionsBlock\n                            id=\"savePersonalInfo\" \n                            checked={fields.savePersonalInfo} \n                            handleInputChange={this.handleInputChange} \n                            label=\"&nbsp;Remember my name and address next time\"\n                        />\n                    </fieldset>\n                    <fieldset styleName=\"styles.fieldset\">\n                        <SubmitButton \n                            hasErrors={hasErrors}\n                            error={errors.amount}\n                            handleSubmit={this.handleSubmit}\n                            submitting={submitting}\n                        />\n                    </fieldset>\n                    <div id=\"seals\"></div>\n                </div>\n            </form>\n\n        )\n    }\n}\n\nexport default NameAddressForm"]}