parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"UywF":[function(require,module,exports) {
module.exports={"form-panel":"form-panel__MNvL5",hidden:"hidden__1Q3CY"};
},{}],"1IB0":[function(require,module,exports) {
"use strict";function n(n){var o=document.documentElement.scrollHeight,e=window.innerHeight,i=40,t=window.scrollY?window.scrollY:window.pageYOffset,r=n>=t;n=r?n>o-e?o-e:n:o<=e?0:n,window.requestAnimationFrame(function o(e){var t=window.scrollY?window.scrollY:window.pageYOffset;if(r){if(t>=n)return window.cancelAnimationFrame(e);t+=i}else{if(t<=n)return window.cancelAnimationFrame(e);t-=i}window.scroll(0,t);window.requestAnimationFrame(o)})}function o(n){var o=n.getBoundingClientRect(),e=window.scrollY?window.scrollY:window.pageYOffset;return o.top+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.scrollToPoint=n,exports.offsetTop=o;
},{}],"d20l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react")),t=n(require("./styles/payment-form.module.css")),r=require("./helpers/crypt"),o=require("./helpers/scrollToPoint");function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}module.hot&&module.hot.accept("./styles/payment-form.module.css",function(){require("./styles/payment-form.module.css")});var d=function(t){function n(e){var t;return c(this,n),(t=s(this,p(n).call(this,e))).state={formAction:e.formAction,cssConfig:e.cssConfig},t}return m(n,e.Component),f(n,[{key:"componentDidMount",value:function(){var e=this.props.formData,t=(0,r.crypt)({formData:e,lifetime:6e4});localStorage.setItem("store",t),document.forms.hiddenform.submit.click();var n=document.getElementById("react-form-top"),i=(0,o.offsetTop)(n);(0,o.scrollToPoint)(i)}},{key:"render",value:function(){var t=this.props.formData,r=Object.keys(t).map(function(r,o){return e.default.createElement("input",{key:o+"-"+r,name:r,value:t[r]?t[r]:"",type:"hidden"})});return e.default.createElement(e.default.Fragment,null,e.default.createElement("form",{id:"hiddenform",className:"hidden__1Q3CY",action:this.state.formAction,method:"POST",target:"paymentprocess"},r,e.default.createElement("input",{type:"hidden",name:"cssVars",value:JSON.stringify(this.state.cssConfig)}),e.default.createElement("input",{id:"submit",type:"submit",hidden:!0})),e.default.createElement("iframe",{className:"form-panel__MNvL5",name:"paymentprocess",width:"100%",height:"1000px"}))}}]),n}(),b=d;exports.default=b;
},{"react":"1n8/","./styles/payment-form.module.css":"UywF","./helpers/crypt":"R5rx","./helpers/scrollToPoint":"1IB0"}],"lKJG":[function(require,module,exports) {
module.exports={loading_spinner:"loading_spinner__2HC5B",loading_spinner__flames:"loading_spinner__flames__3druA",loading_spinner__back:"loading_spinner__back__2cJwJ",flamerotate:"flamerotate__fGeMI"};
},{}],"9R41":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("react")),s=n(require("./styles/spinner.module.css"));function n(e){return e&&e.__esModule?e:{default:e}}function t(){return e.default.createElement("div",{className:"loading_spinner__2HC5B"},e.default.createElement("img",{className:"loading_spinner__flames__3druA",src:"//www1.cbn.com/sites/all/themes/cbn_default/images/spinner/cbn-flame-circle.png"}),e.default.createElement("img",{className:"loading_spinner__back__2cJwJ",src:"//www1.cbn.com/sites/all/themes/cbn_default/images/spinner/loader-spinner@3x.png"}))}module.hot&&module.hot.accept("./styles/spinner.module.css",function(){require("./styles/spinner.module.css")});var l=t;exports.default=l;
},{"react":"1n8/","./styles/spinner.module.css":"lKJG"}],"q/EO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react")),t=o(require("./PaymentForm")),r=o(require("./Spinner")),n=require("./helpers/fetch-helpers");function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?h(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return e.returnValue="Are you sure you want to go back?\n You may lose all your changes to this page.","Are you sure you want to go back?\n You may lose all your changes to this page."}function m(e){return e.returnValue="Are you sure you want to go back?\n You may lose all your changes to this page.","Are you sure you want to go back?\n You may lose all your changes to this page."}var g=function(o){function i(e){var t;return c(this,i),(t=p(this,d(i).call(this,e))).state={mode:e.mode,cssConfig:e.cssConfig,formData:e.formData,formAction:e.formAction,ready:!1},t.getGlobals=t.getGlobals.bind(h(h(t))),t.handleMessage=t.handleMessage.bind(h(h(t))),t.reRenderForm=t.reRenderForm.bind(h(h(t))),t.renderReceiptPage=t.renderReceiptPage.bind(h(h(t))),t}var a;return y(i,e.Component),f(i,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",m),window.addEventListener("message",this.handleMessage,!1),this.getGlobals()}},{key:"getGlobals",value:(a=u(regeneratorRuntime.mark(function e(){var t,r,o,i,a,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="development"==this.state.mode?"http://securegiving.cbn.local/UI/globals/form-config.json":"https://securegiving.cbn.com/UI/globals/form-config.json",e.prev=1,e.next=4,(0,n.callApi)(t);case 4:r=e.sent,o=r.devServicesUri,i=r.preProdServicesUri,a=r.prodServicesUri,s=r.devReceiptUri,u=r.preProdReceiptUri,c=r.prodReceiptUri,this.setState({ready:!0,devServicesUri:o,devReceiptUri:s,preProdServicesUri:i,preProdReceiptUri:u,prodServicesUri:a,prodReceiptUri:c}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])})),function(){return a.apply(this,arguments)})},{key:"handleMessage",value:function(e){var t=e.data?JSON.parse(e.data):{};if("go back clicked"===t.type||"render receipt"===t.type){var r=e.origin;("development"==this.state.mode?r==this.state.devServicesUri||r==this.state.preProdServicesUri:r==this.state.prodServicesUri)&&("go back clicked"===t.type?this.reRenderForm(this.state.formData):"render receipt"===t.type&&this.renderReceiptPage(t.tracking_vars))}}},{key:"reRenderForm",value:function(e){this.props.hydrateForm(e)}},{key:"renderReceiptPage",value:function(e){this.props.renderReceiptPage(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.ready!==t.ready}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",m),window.removeEventListener("message",this.handleMessage)}},{key:"render",value:function(){return e.default.createElement(e.default.Fragment,null,this.state.ready?e.default.createElement(t.default,{cssConfig:this.state.cssConfig,formAction:this.state.formAction,formData:this.state.formData}):e.default.createElement(r.default,null))}}]),i}(),b=g;exports.default=b;
},{"react":"1n8/","./PaymentForm":"d20l","./Spinner":"9R41","./helpers/fetch-helpers":"29Zh"}]},{},[], null)
//# sourceMappingURL=/ConfirmationPage.9d035922.map