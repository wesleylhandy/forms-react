parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"fD7E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=I(require("@babel/runtime/regenerator")),t=I(require("@babel/runtime/helpers/asyncToGenerator")),n=I(require("@babel/runtime/helpers/toConsumableArray")),r=I(require("@babel/runtime/helpers/classCallCheck")),o=I(require("@babel/runtime/helpers/createClass")),a=I(require("@babel/runtime/helpers/possibleConstructorReturn")),i=I(require("@babel/runtime/helpers/getPrototypeOf")),l=I(require("@babel/runtime/helpers/inherits")),s=j(require("react")),u=require("../Contexts/ProductFormProvider"),d=I(require("../FormComponents/StyledComponents/FormPanel")),p=I(require("../FormComponents/StyledComponents/FieldSet")),f=I(require("../FormComponents/StyledComponents/FormHeader")),c=I(require("../FormComponents/Layouts/ProductLayout")),m=I(require("../FormComponents/Blocks/NameBlock")),h=I(require("../FormComponents/Blocks/ShippingAddressBlock")),g=I(require("../FormComponents/Blocks/AddressBlock")),x=I(require("../FormComponents/Blocks/FormOptionsBlock")),y=I(require("../FormComponents/FunctionalComponents/SubmitButton")),C=I(require("../StyledComponents/Spinner")),S=I(require("../StyledComponents/FormWrapper")),b=require("@emotion/core");function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function j(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function I(e){return e&&e.__esModule?e:{default:e}}var P=function(s){function u(){var o,l;(0,r.default)(this,u);for(var s=arguments.length,d=new Array(s),p=0;p<s;p++)d[p]=arguments[p];return(l=(0,a.default)(this,(o=(0,i.default)(u)).call.apply(o,[this].concat(d)))).state={totalGift:0},l.updateProducts=function(e){var t=e.idx,r=e.quantity,o=(0,n.default)(l.state.productInfo),a=l.state.productsOrdered,i=o.findIndex(function(e){return e.idx===t});i>-1?o[i].quantity=r:o.push({idx:t,quantity:r}),a=!!o.reduce(function(e,t){return e+t.quantity},0);var s=(0,n.default)(l.state.cart.items),u=l.props.products[t],d=u.DetailName,p=u.DetailCprojCredit,f=u.DetailCprojMail,c=u.DetailDescription,m=u.PledgeAmount,h=s.filter(function(e){return e.DetailDescription!==c});r&&h.push({type:"product",PledgeAmount:+m*r,DetailCprojMail:f,DetailCprojCredit:p,DetailDescription:c,DetailName:d+"|"+r}),l.setState({productInfo:o,productsOrdered:a,cart:{items:h}})},l.handleInputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;l.context.validateAndUpdateField({type:"UPDATE_FIELD",name:r,value:n})},l.handleSubmit=function(){var n=(0,t.default)(e.default.mark(function t(n){return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),l.context.submitProductForm();case 2:case"end":return e.stop()}},t)}));return function(e){return n.apply(this,arguments)}}(),l}return(0,l.default)(u,s),(0,o.default)(u,[{key:"componentDidMount",value:function(){var e={Zip:"",Title:"",Firstname:"",Middlename:"",Lastname:"",Suffix:"",Spousename:"",Address1:"",Address2:"",City:"",State:"",Country:this.props.allowInternational?"":"United States",Emailaddress:"",phone:"",savePersonalInfo:!0,ShipToYes:!1,ShipToName:"",ShipToAddress1:"",ShipToAddress2:"",ShipToCity:"",ShipToCountry:"",ShipToZip:"",ShipToState:""},t={};for(var n in e)t[n]="";t.amount="",this.context.initFields({type:"INIT_FORM_STATE",fields:e,errors:t}),this.context.loadLS({type:"LOAD"})}},{key:"componentWillUnmount",value:function(){var n=(0,t.default)(e.default.mark(function t(){return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.context.fields.savePersonalInfo?this.context.saveLS():this.context.removeOneLS("info");case 2:case"end":return e.stop()}},t,this)}));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.formTitle,n=e.submitButtonText,r=e.allowInternational,o=e.productFormat,a=e.products,i=e.additionalGift,l=(e.getAddress,e.getName,e.getPhone),s=e.getHonorific,u=e.getSuffix,v=e.getMiddleName,j=e.getSpouseInfo,I=e.getShippingAddress,P={products:a||[],numProducts:a&&a.length?a.length:0,additionalGift:i},q=this.context,F=q.errors,k=q.fields,T=q.initialized,A=q.submitting,D=Object.values(F).filter(function(e){return e&&e.length>0}).length>0;return(0,b.jsx)(S.default,null,(0,b.jsx)("form",{id:"react-giving-form",autoComplete:"off",onSubmit:this.handleSubmit},(0,b.jsx)(f.default,{className:"form-title form-header"},t),P.numProducts>0&&(0,b.jsx)(d.default,{className:"form-panel"},(0,b.jsx)(c.default,{productFormat:o,productOptions:P,updateProducts:this.updateProducts})),T?(0,b.jsx)(d.default,{className:"form-panel"},(0,b.jsx)(p.default,null,(0,b.jsx)("legend",null,"Name and Billing Address Block"),(0,b.jsx)(d.default,{className:"name-address__info"},(0,b.jsx)(f.default,{className:"form-header"},"Please Enter Your Billing Information"),(0,b.jsx)(m.default,{fields:k,errors:F,getHonorific:s,getMiddleName:v,getSuffix:u,getSpouseInfo:j,handleInputChange:this.handleInputChange,type:"Name"}),(0,b.jsx)(g.default,{fields:k,errors:F,handleInputChange:this.handleInputChange,getAddress:!0,getPhone:l,allowInternational:r,type:"Billing"}))),I&&(0,b.jsx)(p.default,null,(0,b.jsx)("legend",null,"Shipping Address Block"),(0,b.jsx)(d.default,{className:"shipping-address__container"},(0,b.jsx)(x.default,{id:"ShipToYes",checked:k.ShipToYes,handleInputChange:this.handleInputChange,label:" My shipping address is different than my billing address."}),k.ShipToYes&&(0,b.jsx)(h.default,{fields:k,errors:F,handleInputChange:this.handleInputChange,allowInternational:r}))),(0,b.jsx)(p.default,null,(0,b.jsx)("legend",null,"Save Personal Info Block"),(0,b.jsx)(x.default,{id:"savePersonalInfo",checked:k.savePersonalInfo,handleInputChange:this.handleInputChange,label:" Remember my name and address next time"})),(0,b.jsx)(p.default,null,(0,b.jsx)("legend",null,"Form Submit Block"),(0,b.jsx)(y.default,{hasErrors:D,error:F.amount,handleSubmit:this.handleSubmit,submitting:A,value:n}))):(0,b.jsx)(d.default,{className:"form-panel"},(0,b.jsx)(C.default,null))))}}]),u}(s.Component);P.contextType=u.ProductFormContext;var q=P;exports.default=q;
},{"@babel/runtime/regenerator":"PMvg","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/helpers/inherits":"d4H2","react":"n8MK","../Contexts/ProductFormProvider":"aq1S","../FormComponents/StyledComponents/FormPanel":"N4C2","../FormComponents/StyledComponents/FieldSet":"T33x","../FormComponents/StyledComponents/FormHeader":"Dc8Z","../FormComponents/Layouts/ProductLayout":"jPOl","../FormComponents/Blocks/NameBlock":"ZTHW","../FormComponents/Blocks/ShippingAddressBlock":"nMgz","../FormComponents/Blocks/AddressBlock":"Sb5h","../FormComponents/Blocks/FormOptionsBlock":"cd8Z","../FormComponents/FunctionalComponents/SubmitButton":"pz13","../StyledComponents/Spinner":"wNTG","../StyledComponents/FormWrapper":"dDLv","@emotion/core":"haMh"}]},{},[], null)
//# sourceMappingURL=/ProductForm.91bc2e95.js.map